window.__require=function e(t,o,n){function r(a,s){if(!o[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=o[a]={exports:{}};t[a][0].call(u.exports,function(e){return r(t[a][1][e]||e)},u,u.exports,e,t,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({AlertModel:[function(e,t,o){"use strict";cc._RF.push(t,"9264bZluL5P0YjlJmHuTbP7","AlertModel");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AlertParams=void 0;var a=e("./PopupModel");o.AlertParams=function(e,t,o,n){void 0===t&&(t=!0),this.content="",this.showCancel=!0,this.success=null,this.fail=null,this.content=e,this.showCancel=t,this.success=o,this.fail=n};var s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ui_label=null,t.ui_btn_Cancel=null,t.ui_btnConfirm_center=null,t.ui_btnConfirm=null,t.m_alertParams=null,t.m_isDisabled=!1,t}return r(t,e),t.prototype.onOpen=function(e){this.m_alertParams=e,this.openAni(),this.m_isDisabled=!1,this.ui_btn_Cancel.active=this.m_alertParams.showCancel,this.ui_btnConfirm.active=this.m_alertParams.showCancel,this.ui_btnConfirm_center.active=!this.m_alertParams.showCancel,this.ui_label.string=this.m_alertParams.content},t.prototype.onConfirm=function(){this.m_isDisabled||(this.m_isDisabled=!0,this.onClickEffect(),this.m_alertParams.success&&this.m_alertParams.success.run(),this.closeAni())},t.prototype.onCancel=function(){this.m_isDisabled||(this.m_isDisabled=!0,this.onClickEffect(),this.m_alertParams.fail&&this.m_alertParams.fail.run(),this.closeAni())},t.prototype.onClose=function(){this.m_alertParams=null},i([l({type:cc.Label,tooltip:"\u5185\u5bb9"})],t.prototype,"ui_label",void 0),i([l({type:cc.Node,tooltip:"\u53d6\u6d88\u6309\u94ae"})],t.prototype,"ui_btn_Cancel",void 0),i([l({type:cc.Node,tooltip:"\u786e\u5b9a\u6309\u94ae-\u4e2d\u5fc3"})],t.prototype,"ui_btnConfirm_center",void 0),i([l({type:cc.Node,tooltip:"\u786e\u5b9a\u6309\u94ae"})],t.prototype,"ui_btnConfirm",void 0),i([c],t)}(a.default);o.default=u,cc._RF.pop()},{"./PopupModel":"PopupModel"}],AnimationExtend:[function(e,t,o){"use strict";cc._RF.push(t,"e81e9HCy+BB97ZnOLYMw5K/","AnimationExtend");var n,r,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.AniParam=o.ANIMATION_TYPE=void 0,function(e){e[e.SPRITE_FRAMES_CLIP=0]="SPRITE_FRAMES_CLIP",e[e.SKELETON=1]="SKELETON"}(r=o.ANIMATION_TYPE||(o.ANIMATION_TYPE={})),o.AniParam=function(e,t,o,n,r,i){this.loadCompleteHandler=null,this.timeScale=1,this.premultipliedAlpha=!1,this.defaultSkin="default",this.dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,this.sample=30,this.isLoadDir=!1,this.sizeMode=cc.Sprite.SizeMode.RAW,this.trim=!1,this.aniType=e,this.url=t,this.bundleName=o,this.aniName=n,this.loadCompleteHandler=r,i&&this.sample};var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skComp=null,t.playCompleteHandler=null,t.isResLoaded=!1,t.aniParam=null,t}return i(t,e),t.prototype.init=function(e){switch(this.aniParam=e,this.addAnimationComp(),this.aniParam.aniType){case r.SKELETON:this.loadSekeleton();break;case r.SPRITE_FRAMES_CLIP:this.loadSpriteFrames()}},t.prototype.play=function(e,t,o){if(void 0===t&&(t=!0),this.playCompleteHandler=o,this.aniName=e,this.loop=t,this.isReadyPlay=!0,this.isResLoaded)switch(this.aniParam.aniType){case r.SPRITE_FRAMES_CLIP:this.playSpriteFramesClip();break;case r.SKELETON:this.playSkeleton()}},t.prototype.stop=function(){switch(this.aniParam.aniType){case r.SPRITE_FRAMES_CLIP:this.aniComp.stop();break;case r.SKELETON:this.skComp.paused=!0}},t.prototype.playSkeleton=function(){var e=this;this.skComp.setAnimation(0,this.aniName,this.loop),this.skComp.setCompleteListener(function(){e.playCompleteHandler&&(e.playCompleteHandler.run(),e.playCompleteHandler=null)})},t.prototype.loadSekeleton=function(){var e=this,t=this;cc.assetManager.getBundle(this.aniParam.bundleName).load(t.aniParam.url,sp.SkeletonData,function(o,n){o?console.error(o.message||o):(t.isResLoaded=!0,t.skComp.skeletonData=n,t.skComp.timeScale=t.aniParam.timeScale,t.skComp.setSkin(e.aniParam.defaultSkin),e.aniParam.loadCompleteHandler&&e.aniParam.loadCompleteHandler.run(),t.isReadyPlay&&t.playSkeleton())})},t.prototype.addAnimationComp=function(){switch(this.aniParam.aniType){case r.SKELETON:this.node.getComponent(cc.Sprite)&&this.node.removeComponent(cc.Sprite),this.skComp=this.node.addComponent(sp.Skeleton),this.skComp.premultipliedAlpha=this.aniParam.premultipliedAlpha,this.skComp.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.SHARED_CACHE);break;case r.SPRITE_FRAMES_CLIP:this.node.getComponent(sp.Skeleton)&&this.node.removeComponent(sp.Skeleton),this.node.getComponent(cc.Sprite)||this.node.addComponent(cc.Sprite),this.aniComp=this.node.getComponent(cc.Animation)||this.node.addComponent(cc.Animation),this.node.getComponent(cc.Sprite).sizeMode=this.aniParam.sizeMode,this.node.getComponent(cc.Sprite).trim=this.aniParam.trim,this.node.getComponent(cc.Sprite).dstBlendFactor=this.aniParam.dstBlendFactor}},t.prototype.addAnimation=function(e){e.sort(function(e,t){return e.name.localeCompare(t.name,"zh-CN",{numeric:!1})});var t=cc.AnimationClip.createWithSpriteFrames(e,this.aniParam.sample);t.name=this.aniParam.aniName,t.speed=this.aniParam.timeScale,this.aniComp.addClip(t),t.wrapMode=cc.WrapMode.Loop,this.aniParam.loadCompleteHandler&&this.aniParam.loadCompleteHandler.run()},t.prototype.loadSpriteFrames=function(){var e=this;if(this.aniParam.isLoadDir)cc.assetManager.getBundle(this.aniParam.bundleName).loadDir(e.aniParam.url,cc.SpriteFrame,function(t,o){t?console.error(t.message||t):(e.isResLoaded=!0,e.addAnimation(o),e.isReadyPlay&&e.playSpriteFramesClip())});else if("string"==typeof this.aniParam.url)cc.assetManager.getBundle(this.aniParam.bundleName).load(e.aniParam.url,cc.SpriteAtlas,function(t,o){if(t)console.error(t.message||t);else{e.isResLoaded=!0;var n=o.getSpriteFrames();e.addAnimation(n),e.isReadyPlay&&e.playSpriteFramesClip()}});else for(var t=0,o=cc.assetManager.getBundle(this.aniParam.bundleName),n=[],r=0;r<e.aniParam.url.length;r++)(function(r){o.load(e.aniParam.url[r],cc.SpriteAtlas,function(o,r){o?console.error(o.message||o):(t++,n=n.concat(r.getSpriteFrames()),t==e.aniParam.url.length&&(e.isResLoaded=!0,e.addAnimation(n),e.isReadyPlay&&e.playSpriteFramesClip()))})})(r)},t.prototype.playSpriteFramesClip=function(){this.aniComp.on("finished",this.spFrameClipFinish,this),this.aniComp.play(this.aniName).wrapMode=this.loop?cc.WrapMode.Loop:cc.WrapMode.Normal},t.prototype.spFrameClipFinish=function(){this.playCompleteHandler&&(this.playCompleteHandler.run(),this.playCompleteHandler=null)},t}(cc.Component);o.default=a,cc._RF.pop()},{}],ArrayUtil:[function(e,t,o){"use strict";cc._RF.push(t,"6bc85b2nf5J26nsiEg8S1Wf","ArrayUtil");var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<o;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)n[r]=i[a];return n};Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function e(){}return e.copy2DArray=function(e){for(var t=[],o=0;o<e.length;o++)t.push(e[o].concat());return t},e.fisherYatesShuffle=function(e){for(var t=e.length;t;){var o=Math.floor(Math.random()*t--),n=e[t];e[t]=e[o],e[o]=n}return e},e.confound=function(e){return e.slice().sort(function(){return Math.random()-.5})},e.flattening=function(e){for(;e.some(function(e){return Array.isArray(e)});)e=[].concat.apply([],e);return e},e.combineArrays=function(e,t){return n(e,t)},e.getRandomValueInArray=function(e){return e[Math.floor(Math.random()*e.length)]},e}();o.default=r,cc._RF.pop()},{}],BTreeNode:[function(e,t,o){"use strict";cc._RF.push(t,"d1f25z5LEFASqS+yw224N2r","BTreeNode"),Object.defineProperty(o,"__esModule",{value:!0}),o.BTreeNode=void 0;var n=function(){function e(){this.title=this.constructor.name}return e.prototype.start=function(){},e.prototype.end=function(){},e.prototype.setControl=function(e){this._control=e},e.prototype.running=function(){this._control.running(this)},e.prototype.success=function(){this._control.success()},e.prototype.fail=function(){this._control.fail()},e}();o.BTreeNode=n,cc._RF.pop()},{}],Base64Util:[function(e,t,o){"use strict";cc._RF.push(t,"f3aa7NyYcpLA62op7ovpWsO","Base64Util"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.encodeString=function(t){var o,n,r,i,a,s,c,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",p=0;for(t=e.encodeUtf8(t);p<t.length;)i=(o=t.charCodeAt(p++))>>2,a=(3&o)<<4|(n=t.charCodeAt(p++))>>4,s=(15&n)<<2|(r=t.charCodeAt(p++))>>6,c=63&r,isNaN(n)?s=c=64:isNaN(r)&&(c=64),u=u+l.charAt(i)+l.charAt(a)+l.charAt(s)+l.charAt(c);return u},e.decodeString=function(t){var o,n,r,i,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)o=c.indexOf(t.charAt(u++))<<2|(i=c.indexOf(t.charAt(u++)))>>4,n=(15&i)<<4|(a=c.indexOf(t.charAt(u++)))>>2,r=(3&a)<<6|(s=c.indexOf(t.charAt(u++))),l+=String.fromCharCode(o),64!=a&&(l+=String.fromCharCode(n)),64!=s&&(l+=String.fromCharCode(r));return e.decodeUtf8(l)},e.encodeUtf8=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",o=0;o<e.length;o++){var n=e.charCodeAt(o);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},e.decodeUtf8=function(e){for(var t="",o=0,n=0,r=0,i=0;o<e.length;)(n=e.charCodeAt(o))<128?(t+=String.fromCharCode(n),o++):n>191&&n<224?(r=e.charCodeAt(o+1),t+=String.fromCharCode((31&n)<<6|63&r),o+=2):(r=e.charCodeAt(o+1),i=e.charCodeAt(o+2),t+=String.fromCharCode((15&n)<<12|(63&r)<<6|63&i),o+=3);return t},e.base64ToBlob=function(e){if(!window||!window.atob)return null;for(var t=e.split(","),o=/image\/\w+|;/.exec(t[0])[0],n=window.atob(t[1]),r=new ArrayBuffer(n.length),i=new Uint8Array(r),a=0;a<n.length;a++)i[a]=255&n.charCodeAt(a);return new Blob([i],{type:o})},e}();o.default=n,cc._RF.pop()},{}],BaseViewModel:[function(e,t,o){"use strict";cc._RF.push(t,"11dc8ZO+JlB+KDdRagFvWsy","BaseViewModel");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../core/manager/SoundMger"),s=e("../common/GameID"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){this.addEventListener()},t.prototype.onDestroy=function(){this.removeEventListener()},t.prototype.onClickEffect=function(){a.default.instance.playEffect("click",this.getBundle())},t.prototype.getBundle=function(){var e=this.node.getComponent(s.default);return e?e.getBundle():null},t.prototype.addEventListener=function(){},t.prototype.removeEventListener=function(){},i([l],t)}(cc.Component));o.default=u,cc._RF.pop()},{"../../core/manager/SoundMger":"SoundMger","../common/GameID":"GameID"}],BehaviorTree:[function(e,t,o){"use strict";cc._RF.push(t,"c45dds6yHpLi6vnZniQeiXl","BehaviorTree"),Object.defineProperty(o,"__esModule",{value:!0}),o.BehaviorTree=void 0;var n=e("./BTreeNode"),r=0,i=function(){function e(e,t){this._started=!1,r+=1,this.title=e.constructor.name+"(btree_"+r+")",this._root=e,this._blackboard=t}return Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!1,configurable:!0}),e.prototype.setObject=function(e){this._blackboard=e},e.prototype.run=function(){this._started&&console.error("\u884c\u4e3a\u6811\u3010"+this.title+"\u3011\u672a\u8c03\u7528\u6b65\u9aa4\uff0c\u5728\u6700\u540e\u4e00\u6b21\u8c03\u7528\u6b65\u9aa4\u65f6\u6709\u4e00\u4e2a\u4efb\u52a1\u672a\u5b8c\u6210"),this._started=!0;var t=e.getNode(this._root);this._current=t,t.setControl(this),t.start(this._blackboard),t.run(this._blackboard)},e.prototype.running=function(){this._started=!1},e.prototype.success=function(){this._current.end(this._blackboard),this._started=!1},e.prototype.fail=function(){this._current.end(this._blackboard),this._started=!1},e.register=function(e,t){this._registeredNodes.set(e,t)},e.getNode=function(e){var t=e instanceof n.BTreeNode?e:this._registeredNodes.get(e);if(!t)throw new Error("\u65e0\u6cd5\u627e\u5230\u8282\u70b9\u3010"+e+"\u3011\uff0c\u53ef\u80fd\u5b83\u6ca1\u6709\u6ce8\u518c\u8fc7");return t},e._registeredNodes=new Map,e}();o.BehaviorTree=i,cc._RF.pop()},{"./BTreeNode":"BTreeNode"}],BranchNode:[function(e,t,o){"use strict";cc._RF.push(t,"d40c80FlodOlIOIsLxUyonh","BranchNode");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BranchNode=void 0;var i=e("./BehaviorTree"),a=function(e){function t(t){var o=e.call(this)||this;return o.children=t||[],o}return r(t,e),t.prototype.start=function(){this._actualTask=0,e.prototype.start.call(this)},t.prototype.run=function(e){0==this.children.length?this._control.fail():(this._blackboard=e,this.start(),this._actualTask<this.children.length&&this._run()),this.end()},t.prototype._run=function(){var e=i.BehaviorTree.getNode(this.children[this._actualTask]);this._runningNode=e,e.setControl(this),e.start(this._blackboard),e.run(this._blackboard)},t.prototype.running=function(e){this._nodeRunning=e,this._control.running(e)},t.prototype.success=function(){this._nodeRunning=null,this._runningNode.end(this._blackboard)},t.prototype.fail=function(){this._nodeRunning=null,this._runningNode.end(this._blackboard)},t}(e("./BTreeNode").BTreeNode);o.BranchNode=a,cc._RF.pop()},{"./BTreeNode":"BTreeNode","./BehaviorTree":"BehaviorTree"}],BrowserUtil:[function(e,t,o){"use strict";cc._RF.push(t,"1dfacfiUw5PprdiylZkxuM+","BrowserUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.clearUrlParam=function(){window&&window.history&&window.history.replaceState({},null,".")},e.setUrlParam=function(e){window&&window.history&&(Array.isArray(e)&&(e=e.map(function(e){return e.key+"="+e.value}).join("&")),window.history.replaceState({},null,"?"+e))},e.getUrlParam=function(e){if(!window||!window.location)return null;var t=window.location.search.replace("?","");if(""===t)return null;for(var o=t.split("&"),n=0;n<o.length;n++){var r=o[n].split("=");if(decodeURIComponent(r[0])===e)return decodeURIComponent(r[1])}return null},e.getUrlParams=function(){if(!window||!window.location)return[];var e=window.location.search.replace("?","");if(""===e)return[];for(var t=e.split("&"),o=[],n=0;n<t.length;n++){var r=t[n].split("=");o.push({key:r[0],value:r[1]})}return o},e.copy=function(e){if(!document)return!1;var t=document.createElement("textarea");t.readOnly=!0,t.style.opacity="0",t.value=e,document.body.appendChild(t),t.select();var o=document.createRange();o.selectNodeContents(t);var n=getSelection();n.removeAllRanges(),n.addRange(o);var r=document.execCommand("copy");return t.remove(),r},e}();o.default=n,cc._RF.pop()},{}],Collection:[function(e,t,o){"use strict";cc._RF.push(t,"9f639vcIFNP+rQBCsAwa+j0","Collection");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Collection=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._array=[],t}return r(t,e),Object.defineProperty(t.prototype,"array",{get:function(){return this._array},enumerable:!1,configurable:!0}),t.prototype.set=function(t,o){return this.has(t)||this._array.push(o),e.prototype.set.call(this,t,o)},t.prototype.delete=function(t){var o=this.get(t);if(o){var n=this._array.indexOf(o);return n>-1&&this._array.splice(n,1),e.prototype.delete.call(this,t)}return!1},t.prototype.clear=function(){this._array.splice(0,this._array.length),e.prototype.clear.call(this)},t}(Map);o.Collection=i,cc._RF.pop()},{}],ColorUtil:[function(e,t,o){"use strict";cc._RF.push(t,"d02525jzfZFBIrZzQcujKVf","ColorUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.hexToRgba=function(t){return e.isHex(t)?{r:parseInt(t.substr(1,2),16)||0,g:parseInt(t.substr(3,2),16)||0,b:parseInt(t.substr(5,2),16)||0,a:parseInt(t.substr(7,2),16)||255}:null},e.rgbaToHex=function(e){var t=(256|e.r).toString(16).slice(1),o=(256|e.g).toString(16).slice(1),n=(256|e.b).toString(16).slice(1);return null==e.a?("#"+t+o+n).toUpperCase():("#"+t+o+n+(256|e.a).toString(16).slice(1)).toUpperCase()},e.isHex=function(e){return/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(e)},e}();o.default=n,cc._RF.pop()},{}],Decorator:[function(e,t,o){"use strict";cc._RF.push(t,"b1c778QcnlAAo1v4xZxX8AJ","Decorator");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Decorator=void 0;var i=e("./BehaviorTree"),a=function(e){function t(t){var o=e.call(this)||this;return t&&(o.node=i.BehaviorTree.getNode(t)),o}return r(t,e),t.prototype.setNode=function(e){this.node=i.BehaviorTree.getNode(e)},t.prototype.start=function(){this.node.setControl(this),this.node.start(),e.prototype.start.call(this)},t.prototype.end=function(){this.node.end()},t.prototype.run=function(e){this.node.run(e)},t}(e("./BTreeNode").BTreeNode);o.Decorator=a,cc._RF.pop()},{"./BTreeNode":"BTreeNode","./BehaviorTree":"BehaviorTree"}],Defines:[function(e,t,o){"use strict";cc._RF.push(t,"c7872YEBIlPT4yvLWl/jJB8","Defines");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ViewParams=o.PopViewParams=o.UICallbacks=void 0;var i=function(){};o.UICallbacks=i;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(i);o.PopViewParams=a,o.ViewParams=function(){this.uuid=null,this.prefabPath=null,this.params=null,this.callbacks=null,this.valid=!0,this.node=null,this.UIConfig=null},cc._RF.pop()},{}],DelegateComponent:[function(e,t,o){"use strict";cc._RF.push(t,"3294djjIglPlKi3aSywW85P","DelegateComponent");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.DelegateComponent=void 0;var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewParams=null,t}return r(t,e),t.prototype.add=function(){this.applyComponentsFunction(this.node,"onOpen",this.viewParams.params),"function"==typeof this.viewParams.callbacks.onOpen&&this.viewParams.callbacks.onOpen(this.node,this.viewParams.params)},t.prototype.remove=function(e){var t=this;this.viewParams.valid&&(this.applyComponentsFunction(this.node,"onBeforeRemove",this.viewParams.params),"function"==typeof this.viewParams.callbacks.onCloseBefore?this.viewParams.callbacks.onCloseBefore(this.node,function(){t.removed(t.viewParams,e)}):this.removed(this.viewParams,e))},t.prototype.removed=function(e,t){e.valid=!1,"function"==typeof e.callbacks.onClose&&e.callbacks.onClose(this.node,e.params),t?this.node.destroy():this.node.removeFromParent()},t.prototype.onDestroy=function(){this.applyComponentsFunction(this.node,"onClose",this.viewParams.params),this.viewParams=null},t.prototype.applyComponentsFunction=function(e,t,o){for(var n=0;n<e._components.length;n++){var r=e._components[n],i=r[t];i&&i.call(r,o)}},t}(cc.Component);o.DelegateComponent=i,cc._RF.pop()},{}],DeviceUtil:[function(e,t,o){"use strict";cc._RF.push(t,"f0c06dzgCVJYZuxM386dkWt","DeviceUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.getSafeAreaRect=function(){return cc.sys.getSafeAreaRect()},Object.defineProperty(e,"platform",{get:function(){return cc.sys.platform},enumerable:!1,configurable:!0}),Object.defineProperty(e,"os",{get:function(){return cc.sys.os},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isAndroid",{get:function(){return cc.sys.platform===cc.sys.ANDROID},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isNative",{get:function(){return cc.sys.isNative},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isBrowser",{get:function(){return cc.sys.isBrowser},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isMobile",{get:function(){return cc.sys.isMobile},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isIPhone",{get:function(){return cc.sys.platform===cc.sys.IPHONE},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isIPad",{get:function(){return cc.sys.platform===cc.sys.IPAD},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isMobileBrowser",{get:function(){return cc.sys.platform===cc.sys.MOBILE_BROWSER},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isDesktopBrowser",{get:function(){return cc.sys.platform===cc.sys.DESKTOP_BROWSER},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isWeChat",{get:function(){return cc.sys.platform===cc.sys.WECHAT_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isQQPlay",{get:function(){return cc.sys.platform===cc.sys.QQ_PLAY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isByteDance",{get:function(){return cc.sys.platform===cc.sys.BYTEDANCE_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isBaidu",{get:function(){return cc.sys.platform===cc.sys.BAIDU_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isVivo",{get:function(){return cc.sys.platform===cc.sys.VIVO_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isOPPO",{get:function(){return cc.sys.platform===cc.sys.OPPO_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isXiaomi",{get:function(){return cc.sys.platform===cc.sys.XIAOMI_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isHuawei",{get:function(){return cc.sys.platform===cc.sys.HUAWEI_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isAlipay",{get:function(){return cc.sys.platform===cc.sys.ALIPAY_GAME},enumerable:!1,configurable:!0}),e}();o.default=n,cc._RF.pop()},{}],EventMessage:[function(e,t,o){"use strict";cc._RF.push(t,"45871X29YFDWZNW/kBfOEn6","EventMessage"),Object.defineProperty(o,"__esModule",{value:!0}),o.GAMELOCALNAME=o.EventMessage=void 0,function(e){e.GAME_ENTER="EventMessage_GAME_ENTER",e.GAME_EXIT="EventMessage_GAME_EXIT",e.GAME_RESIZE="EventMessage_GAME_RESIZE",e.GAME_NO_ADVERTISEMENT="GAME_NO_ADVERTISEMENT",e.GAME_AD_VIDEO_STATUS="GAME_AD_VIDEO_STATUS"}(o.EventMessage||(o.EventMessage={})),function(e){e.GAME_LOCAL_LANGUAGE="GAME_LOCAL_LANGUAGE",e.GAME_LOCAL_SHORT="GAME_LOCAL_SHORT"}(o.GAMELOCALNAME||(o.GAMELOCALNAME={})),cc._RF.pop()},{}],GUIView:[function(e,t,o){"use strict";cc._RF.push(t,"7ae3fRJAYtAtpFadEBMrAR0","GUIView");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GUIView=void 0;var i=e("../../global/Global"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.portraitDrz=null,t.landscapeDrz=null,t}return r(t,e),t.prototype.onLoad=function(){this.init()},t.prototype.init=function(){this.camera=this.getComponentInChildren(cc.Camera),cc.view.getDesignResolutionSize().width>cc.view.getDesignResolutionSize().height?(this.landscapeDrz=cc.view.getDesignResolutionSize(),this.portraitDrz=new cc.Size(this.landscapeDrz.height,this.landscapeDrz.width)):(this.portraitDrz=cc.view.getDesignResolutionSize(),this.landscapeDrz=new cc.Size(this.portraitDrz.height,this.portraitDrz.width)),this.resize()},t.prototype.resize=function(){var e=new cc.Size(i.default.getInstance().getGameConfig().canvas.width,i.default.getInstance().getGameConfig().canvas.height),t=cc.view.getFrameSize(),o=t.width,n=t.height,r=o,a=n;o/n>e.width/e.height?(r=(a=e.height)*o/n,this.portrait=!1):(a=(r=e.width)*n/o,this.portrait=!0),cc.view.setDesignResolutionSize(r,a,5),this.node.setContentSize(r,a)},t}(cc.Component);o.GUIView=a,cc._RF.pop()},{"../../global/Global":"Global"}],GUI:[function(e,t,o){"use strict";cc._RF.push(t,"a7a00nAJcxAIo62GXHuvsoU","GUI");var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,i){function a(e){try{c(n.next(e))}catch(t){i(t)}}function s(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.GUI=o.UIConfig=o.LayerType=void 0;var i,a=e("../../global/Global"),s=e("../utils/DeviceUtil"),c=e("../wx/WxManager"),l=e("./DelegateComponent"),u=e("./GUIView"),p=e("./LayerDialog"),d=e("./LayerPopUp"),f=e("./LayerToast"),h=e("./LayerUI");(function(e){e.Game="LayerGame",e.UI="LayerUI",e.PopUp="LayerPopUp",e.Dialog="LayerDialog",e.Toast="LayerToast",e.Guide="LayerGuide",e.Waiting="LayerWaiting"})(i=o.LayerType||(o.LayerType={})),o.UIConfig=function(){};var g=function(){function e(){this.m_configs=new Map}return Object.defineProperty(e,"instance",{get:function(){return this._instance?this._instance:(this._instance=new e,this._instance)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"portrait",{get:function(){return this.root.getComponent(u.GUIView).portrait},enumerable:!1,configurable:!0}),e.prototype.addUIConf=function(e,t){this.m_configs.set(t,e)},e.prototype.removeUIConf=function(e){this.m_configs.delete(e)},e.prototype.showModal=function(e,t,o,n,r){if(s.default.isWeChat&&a.default.getInstance().getGameConfig().wxConfig.nativeModal)c.default.getInstance().showModal(o.content,o.showCancel,function(){o.success&&o.success.run()},function(){o.fail&&o.fail.run()});else{var i=this.m_configs.get(t);if(null!=i){var l=i[e];null!=l?this.dialog.add(l,o,n,r):cc.warn("\u6253\u5f00\u7f16\u53f7\u4e3a\u3010"+e+"\u3011\u7684\u754c\u9762\u5931\u8d25\uff0c\u914d\u7f6e\u4fe1\u606f\u4e0d\u5b58\u5728")}else cc.warn("\u3010"+t+"\u3011\u4e0b\u6ca1\u6709\u754c\u9762\u914d\u7f6e")}},e.prototype.toast=function(e,t,o){if(s.default.isWeChat&&a.default.getInstance().getGameConfig().wxConfig.nativeToast)c.default.getInstance().showToast(o.msg);else{var n=this.m_configs.get(t);if(null!=n){var r=n[e];null!=r?this.toasts.show(r,o):cc.warn("\u6253\u5f00\u7f16\u53f7\u4e3a\u3010"+e+"\u3011\u7684\u754c\u9762\u5931\u8d25\uff0c\u914d\u7f6e\u4fe1\u606f\u4e0d\u5b58\u5728")}else cc.warn("\u3010"+t+"\u3011\u4e0b\u6ca1\u6709\u754c\u9762\u914d\u7f6e")}},e.prototype.loading=function(e,t,o,n,r,i){if(void 0===n&&(n=null),s.default.isWeChat&&a.default.getInstance().getGameConfig().wxConfig.nativeLoading)e?c.default.getInstance().showLoading():c.default.getInstance().hideLoading();else if(e){var l=this.m_configs.get(o);if(null!=l){var u=l[t];null!=u?this.waiting.add(u,n,r,i):cc.warn("\u6253\u5f00\u7f16\u53f7\u4e3a\u3010"+t+"\u3011\u7684\u754c\u9762\u5931\u8d25\uff0c\u914d\u7f6e\u4fe1\u606f\u4e0d\u5b58\u5728")}else cc.warn("\u3010"+o+"\u3011\u4e0b\u6ca1\u6709\u754c\u9762\u914d\u7f6e")}else this.remove(t,o)},e.prototype.open=function(e,t,o,n,r){void 0===o&&(o=null);var a=this.m_configs.get(t);if(null!=a){var s=a[e];if(null!=s)switch(s.layer){case i.UI:this.ui.add(s,o,n,r);break;case i.PopUp:this.popup.add(s,o,n,r);break;case i.Dialog:this.dialog.add(s,o,n,r);break;case i.Toast:this.toasts.show(s,o);break;case i.Waiting:this.waiting.add(s,o,n,r)}else cc.warn("\u6253\u5f00\u7f16\u53f7\u4e3a\u3010"+e+"\u3011\u7684\u754c\u9762\u5931\u8d25\uff0c\u914d\u7f6e\u4fe1\u606f\u4e0d\u5b58\u5728")}else cc.warn("\u3010"+t+"\u3011\u4e0b\u6ca1\u6709\u754c\u9762\u914d\u7f6e")},e.prototype.openAsync=function(e,t,o){return void 0===o&&(o=null),n(this,void 0,Promise,function(){var n=this;return r(this,function(){return[2,new Promise(function(r,i){var a=n.m_configs.get(t);if(null==a)return cc.warn("\u3010"+t+"\u3011\u4e0b\u6ca1\u6709\u754c\u9762\u914d\u7f6e"),i();if(null==a[e])return cc.warn("\u6253\u5f00\u7f16\u53f7\u4e3a\u3010"+e+"\u3011\u7684\u754c\u9762\u5931\u8d25\uff0c\u914d\u7f6e\u4fe1\u606f\u4e0d\u5b58\u5728"),i();var s={onOpen:function(e){r(e)}};n.open(e,t,o,null,s)})]})})},e.prototype.has=function(e,t){var o=this.m_configs.get(t);if(null!=o){var n=o[e];if(null!=n){var r=!1;switch(n.layer){case i.UI:r=this.ui.has(n.prefab);break;case i.PopUp:r=this.popup.has(n.prefab);break;case i.Dialog:r=this.dialog.has(n.prefab);break;case i.Toast:r=this.toasts.has(n.prefab);break;case i.Waiting:r=this.waiting.has(n.prefab)}return r}cc.warn("\u6253\u5f00\u7f16\u53f7\u4e3a\u3010"+e+"\u3011\u7684\u754c\u9762\u5931\u8d25\uff0c\u914d\u7f6e\u4fe1\u606f\u4e0d\u5b58\u5728")}else cc.warn("\u3010"+t+"\u3011\u4e0b\u6ca1\u6709\u754c\u9762\u914d\u7f6e")},e.prototype.remove=function(e,t){var o=this.m_configs.get(t);if(null!=o){var n=o[e];if(null!=n)switch(n.layer){case i.UI:this.ui.remove(n.prefab,n.isDestroy);break;case i.PopUp:this.popup.remove(n.prefab,n.isDestroy);break;case i.Dialog:this.dialog.remove(n.prefab,n.isDestroy);break;case i.Waiting:this.waiting.remove(n.prefab,n.isDestroy)}else cc.warn("\u3010"+e+"\u3011 remove error!")}else cc.warn("\u3010"+t+"\u3011\u4e0b\u6ca1\u6709\u754c\u9762\u914d\u7f6e")},e.prototype.close=function(e){var t=e.node;if(t){var o=t.getComponent(l.DelegateComponent);if(o&&o.viewParams){var n=o.viewParams.UIConfig;if(null==n)return void cc.warn("close error!");switch(n.layer){case i.UI:this.ui.remove(n.prefab,n.isDestroy);break;case i.PopUp:this.popup.remove(n.prefab,n.isDestroy);break;case i.Dialog:this.dialog.remove(n.prefab,n.isDestroy);break;case i.Waiting:this.waiting.remove(n.prefab,n.isDestroy)}}else cc.warn("\u5f53\u524d\u5220\u9664\u7684node\u4e0d\u662f\u901a\u8fc7\u754c\u9762\u7ba1\u7406\u5668\u6dfb\u52a0\u5230\u821e\u53f0\u4e0a"),t.destroy()}},e.prototype.clear=function(e){void 0===e&&(e=!0),this.ui.clearNodes(e),this.popup.clearNodes(e),this.dialog.clearNodes(e)},e.prototype.setRoot=function(e){this.root=e,this.camera=this.root.getComponentInChildren(cc.Camera),this.game=this.create_node(i.Game),this.ui=new h.LayerUI(i.UI),this.popup=new d.LayerPopUp(i.PopUp),this.dialog=new p.LayerDialog(i.Dialog),this.toasts=new f.LayerToast(i.Toast),this.guide=this.create_node(i.Guide),this.waiting=new d.LayerPopUp(i.Waiting),e.addChild(this.game),e.addChild(this.ui),e.addChild(this.popup),e.addChild(this.dialog),e.addChild(this.toasts),e.addChild(this.guide),e.addChild(this.waiting)},e.prototype.create_node=function(e){var t=new cc.Node(e),o=t.addComponent(cc.Widget);return o.isAlignLeft=o.isAlignRight=o.isAlignTop=o.isAlignBottom=!0,o.left=o.right=o.top=o.bottom=0,o.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE,o.enabled=!0,t},e}();o.GUI=g,cc._RF.pop()},{"../../global/Global":"Global","../utils/DeviceUtil":"DeviceUtil","../wx/WxManager":"WxManager","./DelegateComponent":"DelegateComponent","./GUIView":"GUIView","./LayerDialog":"LayerDialog","./LayerPopUp":"LayerPopUp","./LayerToast":"LayerToast","./LayerUI":"LayerUI"}],GameID:[function(e,t,o){"use strict";cc._RF.push(t,"d1bc2aBK6xPMqkKLLuMu21Z","GameID");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bundleName="",t}return r(t,e),t.prototype.getBundle=function(){return this.bundleName},t.prototype.setBundle=function(e){this.bundleName=e},i([c({tooltip:"game_id"})],t.prototype,"bundleName",void 0),i([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],GeometryUtil:[function(e,t,o){"use strict";cc._RF.push(t,"a6d26weqA9C5aqKO+2anRL2","GeometryUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.pointOnLine=function(e,t,o){var n=o.sub(t),r=e.sub(t),i=0===n.cross(r).mag(),a=e.x>=Math.min(t.x,o.x)&&e.x<=Math.max(t.x,o.x)&&e.y>=Math.min(t.y,o.y)&&e.y<=Math.max(t.y,o.y);return i&&a},e.pointInTriangle=function(e,t,o,n){function r(e,t,o,n){var r=o.sub(t),i=n.sub(t),a=e.sub(t),s=r.cross(i),c=r.cross(a);return s.dot(c)>=0}return r(e,t,o,n)&&r(e,o,n,t)&&r(e,n,t,o)},e.pointLineDistance=function(e,t,o){var n=o.sub(t),r=e.sub(t),i=cc.Vec3.angle(n,r),a=r.mag();return Math.sin(i)*a},e}();o.default=n,cc._RF.pop()},{}],Global:[function(e,t,o){"use strict";cc._RF.push(t,"1cd46bapHJPLqets7JGZXWu","Global"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../core/event/EventMessage"),r=e("../core/utils/StorageUtil"),i=function(){function e(){this._gameConfig="",this._isVibrateShort=!0}return e.getInstance=function(){return this._instance||(this._instance=new e,this._instance.init()),this._instance},e.prototype.init=function(){this._isVibrateShort=r.default.getBoolean(n.GAMELOCALNAME.GAME_LOCAL_SHORT,!0)},e.prototype.setGameConfig=function(e){this._gameConfig=e},e.prototype.getGameConfig=function(){return this._gameConfig},e.prototype.setVibrateShort=function(e){this._isVibrateShort=e,r.default.setBoolean(n.GAMELOCALNAME.GAME_LOCAL_SHORT,e)},e.prototype.getVibrateShort=function(){return this._isVibrateShort},e}();o.default=i,cc._RF.pop()},{"../core/event/EventMessage":"EventMessage","../core/utils/StorageUtil":"StorageUtil"}],Handler:[function(e,t,o){"use strict";cc._RF.push(t,"de34eABbGlOMIi/ciAqwgfD","Handler"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(e,t,o,n){void 0===e&&(e=null),void 0===t&&(t=null),void 0===o&&(o=null),void 0===n&&(n=!1),this.once=!1,this._id=0,this.setTo(e,t,o,n)}return e.prototype.setTo=function(t,o,n,r){return void 0===r&&(r=!1),this._id=e._gid++,this.caller=t,this.method=o,this.args=n,this.once=r,this},e.prototype.run=function(){if(null==this.method)return null;var e=this._id,t=this.method.apply(this.caller,this.args);return this._id===e&&this.once&&this.recover(),t},e.prototype.runWith=function(e){if(null==this.method)return null;var t=this._id;if(null==e)var o=this.method.apply(this.caller,this.args);else o=this.args||e.unshift?this.args?this.method.apply(this.caller,this.args.concat(e)):this.method.apply(this.caller,e):this.method.call(this.caller,e);return this._id===t&&this.once&&this.recover(),o},e.prototype.clear=function(){return this.caller=null,this.method=null,this.args=null,this},e.prototype.recover=function(){this._id>0&&(this._id=0,e._pool.push(this.clear()))},e.create=function(t,o,n,r){return void 0===n&&(n=null),void 0===r&&(r=!0),e._pool.length?e._pool.pop().setTo(t,o,n,r):new e(t,o,n,r)},e._pool=[],e._gid=1,e}();o.default=n,cc._RF.pop()},{}],IControl:[function(e,t,o){"use strict";cc._RF.push(t,"97879FwIu9HqrQrORXeTfZq","IControl"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],LabelChange:[function(e,t,o){"use strict";cc._RF.push(t,"e6e7fbbRKVEA5Zbr6ovd/o2","LabelChange");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LabelChange=void 0;var a=e("./LabelNumber"),s=cc._decorator,c=s.ccclass,l=(s.property,s.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isBegin=!1,t.speed=0,t.end=0,t}return r(t,e),t.prototype.changeTo=function(e,t,o){if(0==e)return this.value=t,void(o&&o.run());this.playAnim(e,this.value,t,o)},t.prototype.changeBy=function(e,t,o){if(0==e)return o&&o.run(),void(this.value+=t);this.playAnim(e,this.value,this.value+t,o)},t.prototype.stop=function(e){void 0===e&&(e=!0),this.value=this.end,this.isBegin=!1,e&&this.callback&&this.callback.run()},t.prototype.playAnim=function(e,t,o,n){this.end=o,this.callback=n,this.speed=(o-t)/e,this.value=t,this.isBegin=!0},t.prototype.isEnd=function(e){return this.speed>0?e>=this.end:e<=this.end},t.prototype.update=function(e){if(this.isBegin){if(this.value==this.end)return this.isBegin=!1,void(this.callback&&this.callback.run());var t=this.value+e*this.speed;this.isEnd(t)&&(t=this.end,this.isBegin=!1,this.callback&&this.callback.run()),this.value=t}},i([c],t)}(a.default));o.LabelChange=l,cc._RF.pop()},{"./LabelNumber":"LabelNumber"}],LabelNumber:[function(e,t,o){"use strict";cc._RF.push(t,"447e30RGg5LWLyGnStcxSlE","LabelNumber");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=0,t._showSym="",t.isInteger=!1,t}return r(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.updateLabel()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showSym",{get:function(){return this._showSym},set:function(e){e&&(this._showSym=e,this.updateLabel())},enumerable:!1,configurable:!0}),t.prototype.updateLabel=function(){var e;"number"!=typeof this._value&&cc.error("[LabelNumber] num\u4e0d\u662f\u4e00\u4e2a\u5408\u6cd5\u6570\u5b57"),e=this.isInteger?Math.ceil(this.value).toString():this.value.toFixed(2),this.string=this.showSym+e},i([c],t.prototype,"_value",void 0),i([c({tooltip:"\u9ed8\u8ba4\u503c"})],t.prototype,"value",null),i([c({tooltip:"\u8d27\u5e01\u7b26\u53f7"})],t.prototype,"_showSym",void 0),i([c({tooltip:"\u8d27\u5e01\u7b26\u53f7"})],t.prototype,"showSym",null),i([c({tooltip:"\u662f\u5426\u6574\u6570\u53d8\u5316"})],t.prototype,"isInteger",void 0),i([s],t)}(cc.Label);o.default=l,cc._RF.pop()},{}],LabelShader:[function(e,t,o){"use strict";cc._RF.push(t,"76c5crBnaVOFbq5FYCRZT9/","LabelShader");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=(a.menu,a.requireComponent),u=a.disallowMultiple,p=a.executeInEditMode,d=cc.Enum({None:0,OneColor:1,TwoColor:2,TriColor:3}),f=cc.Enum({None:0,Lowp:1,Mediump:2,Highp:3}),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shadowUse=!1,t.shadowOffset=cc.v2(1,1),t.shadowColor=cc.color(0,0,0,150),t.outlineUse=!1,t.outlineWidth=1,t.outlineColor=cc.color(0,0,0,255),t.olShadowUse=!1,t.olShadowOffset=cc.v2(1,1),t.olShadowColor=cc.color(0,0,0,150),t.flowLightUse=!1,t.flSpeed=1,t.flRot=0,t.flWidth=15,t.flColor=cc.color(255,255,255,255),t.gradient=d.None,t.color1=cc.color(255,0,0,255),t.color2=cc.color(0,255,0,255),t.color3=cc.color(0,0,255,255),t.glow=f.None,t.glowWidth=10,t.glowDepth=2,t.glowColor=cc.color(255,255,255,255),t._mtl=null,t._time=0,t}return r(t,e),t.prototype.onLoad=function(){this.initMat()},t.prototype.initMat=function(){this._mtl=this.node.getComponent(cc.Label).getMaterial(0),this._mtl.define("USE_TEXTURE",!0,0),this.node.getComponent(cc.Label).setMaterial(0,this._mtl),this.use()},t.prototype.use=function(){if(this._mtl){switch(this._mtl.setProperty("i_resolution",[this.node.width,this.node.height]),this._mtl.setProperty("i_shadow",this.shadowUse?1:0),this._mtl.setProperty("i_shadowOffset",[-this.shadowOffset.x/this.node.width,-this.shadowOffset.y/this.node.height]),this._mtl.setProperty("i_shadowColor",[this.shadowColor.r/255,this.shadowColor.g/255,this.shadowColor.b/255,this.shadowColor.a/255]),this._mtl.setProperty("i_outline",this.outlineUse?1:0),this._mtl.setProperty("i_outlineWidth",[this.outlineWidth/this.node.width,this.outlineWidth/this.node.height]),this._mtl.setProperty("i_outlineColor",[this.outlineColor.r/255,this.outlineColor.g/255,this.outlineColor.b/255,this.outlineColor.a/255]),this._mtl.setProperty("i_olShadow",this.olShadowUse?1:0),this._mtl.setProperty("i_olShadowOffset",[-this.olShadowOffset.x/this.node.width,-this.olShadowOffset.y/this.node.height]),this._mtl.setProperty("i_olShadowColor",[this.olShadowColor.r/255,this.olShadowColor.g/255,this.olShadowColor.b/255,this.olShadowColor.a/255]),this._mtl.setProperty("i_gradient",this.gradient-1),this.gradient){case d.None:this._mtl.setProperty("i_color1",[this.node.color.r/255,this.node.color.g/255,this.node.color.b/255,this.node.color.a/255]);break;case d.OneColor:case d.TwoColor:case d.TriColor:this._mtl.setProperty("i_color1",[this.node.color.r/255,this.node.color.g/255,this.node.color.b/255,this.node.color.a/255]),this._mtl.setProperty("i_color1",[this.color1.r/255,this.color1.g/255,this.color1.b/255,this.color1.a/255]),this._mtl.setProperty("i_color2",[this.color2.r/255,this.color2.g/255,this.color2.b/255,this.color2.a/255]),this._mtl.setProperty("i_color3",[this.color3.r/255,this.color3.g/255,this.color3.b/255,this.color3.a/255])}this._mtl.setProperty("i_flowLight",this.flowLightUse?1:0),this._mtl.setProperty("i_flTime",this.flSpeed*this._time*60/this.node.width),this._mtl.setProperty("i_flRot",180*Math.atan(Math.tan(Math.PI*this.flRot/180)*this.node.height/this.node.width)/Math.PI),this._mtl.setProperty("i_flWidth",this.flWidth/this.node.width),this._mtl.setProperty("i_flColor",[this.flColor.r/255,this.flColor.g/255,this.flColor.b/255,this.flColor.a/255]),this._mtl.setProperty("i_glow",this.glow),this._mtl.setProperty("i_glowWidth",[this.glowWidth/this.node.width,this.glowWidth/this.node.height]),this._mtl.setProperty("i_glowDepth",this.glowDepth),this._mtl.setProperty("i_glowColor",[this.glowColor.r/255,this.glowColor.g/255,this.glowColor.b/255,this.glowColor.a/255])}},t.prototype.update=function(e){this._time+=e,this.use()},i([c({tooltip:"\u662f\u5426\u4f7f\u7528\u9634\u5f71"})],t.prototype,"shadowUse",void 0),i([c({tooltip:"\u9634\u5f71\u504f\u79fb\uff08\u50cf\u7d20\uff09",visible:function(){return this.shadowUse}})],t.prototype,"shadowOffset",void 0),i([c({tooltip:"\u9634\u5f71\u989c\u8272",visible:function(){return this.shadowUse}})],t.prototype,"shadowColor",void 0),i([c({tooltip:"\u662f\u5426\u4f7f\u7528\u63cf\u8fb9"})],t.prototype,"outlineUse",void 0),i([c({tooltip:"\u63cf\u8fb9\u5bbd\u5ea6\uff08\u50cf\u7d20\uff09",min:1,visible:function(){return this.outlineUse}})],t.prototype,"outlineWidth",void 0),i([c({tooltip:"\u63cf\u8fb9\u989c\u8272",visible:function(){return this.outlineUse}})],t.prototype,"outlineColor",void 0),i([c({tooltip:"\u662f\u5426\u4f7f\u7528\u63cf\u8fb9\u9634\u5f71",visible:function(){return this.outlineUse}})],t.prototype,"olShadowUse",void 0),i([c({tooltip:"\u63cf\u8fb9\u9634\u5f71\u504f\u79fb\uff08\u50cf\u7d20\uff09",visible:function(){return this.outlineUse&&this.olShadowUse}})],t.prototype,"olShadowOffset",void 0),i([c({tooltip:"\u63cf\u8fb9\u9634\u5f71\u989c\u8272",visible:function(){return this.outlineUse&&this.olShadowUse}})],t.prototype,"olShadowColor",void 0),i([c({tooltip:"\u662f\u5426\u4f7f\u7528\u626b\u5149\u52a8\u6548"})],t.prototype,"flowLightUse",void 0),i([c({tooltip:"\u626b\u5149\u52a8\u6548\u901f\u5ea6\uff08\u50cf\u7d20\uff09",visible:function(){return this.flowLightUse}})],t.prototype,"flSpeed",void 0),i([c({tooltip:"\u626b\u5149\u52a8\u6548\u65cb\u8f6c\u89d2\u5ea6",visible:function(){return this.flowLightUse}})],t.prototype,"flRot",void 0),i([c({tooltip:"\u626b\u5149\u52a8\u6548\u5bbd\u5ea6\uff08\u50cf\u7d20\uff09",min:1,visible:function(){return this.flowLightUse}})],t.prototype,"flWidth",void 0),i([c({tooltip:"\u626b\u5149\u6548\u679c\u989c\u8272",visible:function(){return this.flowLightUse}})],t.prototype,"flColor",void 0),i([c({tooltip:"\u6587\u5b57\u989c\u8272\nNone 0\uff1a\u5355\u8272\uff0c\u4f7f\u7528\u8282\u70b9color\nOneColor 1\uff1a\u5355\u8272\uff0c\u4f7f\u7528color1\nTwoColor 2\uff1a\u6e10\u53d8\u8272-\u53cc\u8272\nTriColor 3\uff1a\u6e10\u53d8\u8272-\u4e09\u8272",type:cc.Enum(d)})],t.prototype,"gradient",void 0),i([c({visible:function(){return this.gradient>d.None}})],t.prototype,"color1",void 0),i([c({visible:function(){return this.gradient>d.OneColor}})],t.prototype,"color2",void 0),i([c({visible:function(){return this.gradient>d.TwoColor}})],t.prototype,"color3",void 0),i([c({tooltip:"\u5916\u53d1\u5149\uff0c\u5916\u53d1\u5149\u8f83\u8017\u6027\u80fd\nNone 0\uff1a\u4e0d\u4f7f\u7528\nLowp 1\uff1a\u4f4e\u7cbe\u5ea6\uff08\u5efa\u8bae\uff09\nMediump 2: \u4e2d\u7b49\u7cbe\u5ea6\nHighp 3\uff1a\u9ad8\u7cbe\u5ea6",type:cc.Enum(f)})],t.prototype,"glow",void 0),i([c({tooltip:"\u5916\u53d1\u5149\u5bbd\u5ea6\uff08\u50cf\u7d20\uff09",min:1,visible:function(){return this.glow>f.None}})],t.prototype,"glowWidth",void 0),i([c({tooltip:"\u5916\u53d1\u5149\u989c\u8272\u6df1\u5ea6",min:1,max:32,visible:function(){return this.glow>f.None}})],t.prototype,"glowDepth",void 0),i([c({tooltip:"\u5916\u53d1\u5149\u989c\u8272",visible:function(){return this.glow>f.None}})],t.prototype,"glowColor",void 0),i([s,l(cc.Label),u(),p()],t)}(cc.Component);o.default=h,cc._RF.pop()},{}],LabelTime:[function(e,t,o){"use strict";cc._RF.push(t,"ed05ae5zYVPhan82fXSKDe2","LabelTime");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=(a.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.countDown=1e3,t.dayFormat="{0} day",t.timeFormat="{0}:{1}:{2}",t.zeroize=!0,t.secondHandler=null,t.completeHandler=null,t}return r(t,e),t.prototype.replace=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return e.replace(/\{(\d+)\}/g,function(e,o){return t[o]})},t.prototype.format=function(){var e=this.countDown,t=Math.floor(e/86400);e-=86400*t;var o=Math.floor(e/3600);e-=3600*o;var n=Math.floor(e/60),r=e-=60*n;if(this.dateDisable=this.dateDisable||!1,0==t&&0==o&&0==n&&0==r)this.zeroize?this.result=this.replace(this.timeFormat,"00","00","00"):this.result=this.replace(this.timeFormat,"0","0","0");else if(t>0&&!this.dateDisable){var i=this.dayFormat,a=i.indexOf("{1}");0==o&&a>-1&&(i=i.substring(0,a-1));var s=i;t>1&&i.indexOf("days")<0&&(s=s.replace("day","days")),t<2&&(s=s.replace("days","day")),this.result=this.replace(s,t,o)}else o+=24*t,this.zeroize?this.result=this.replace(this.timeFormat,this.coverString(o),this.coverString(n),this.coverString(r)):this.result=this.replace(this.timeFormat,o,n,r);this.string=this.result},t.prototype.coverString=function(e){return e<10?"0"+e:e.toString()},t.prototype.setDateDisable=function(e){this.dateDisable=e},t.prototype.setTime=function(e,t,o){this.countDown=e,this.timing_end(),this.completeHandler=t,this.secondHandler=o,this.timing_start()},t.prototype.onScheduleSecond=function(){this.countDown--,this.format(),this.secondHandler&&this.secondHandler(this.countDown),0==this.countDown&&this.onScheduleComplete()},t.prototype.onScheduleComplete=function(){this.completeHandler&&this.completeHandler(),this.timing_end()},t.prototype.timing_start=function(){this.schedule(this.onScheduleSecond,1),this.format()},t.prototype.timing_end=function(){this.completeHandler=null,this.secondHandler=null,this.unscheduleAllCallbacks(),this.format()},i([c({tooltip:"\u5230\u8ba1\u65f6\u95f4\u603b\u65f6\u95f4\uff08\u5355\u4f4d\u79d2\uff09"})],t.prototype,"countDown",void 0),i([c({tooltip:"\u5929\u6570\u6570\u636e\u683c\u5f0f\u5316"})],t.prototype,"dayFormat",void 0),i([c({tooltip:"\u65f6\u95f4\u683c\u5f0f\u5316"})],t.prototype,"timeFormat",void 0),i([c({tooltip:"\u662f\u5426\u670900"})],t.prototype,"zeroize",void 0),i([s],t)}(cc.Label));o.default=l,cc._RF.pop()},{}],LanguageLabel:[function(e,t,o){"use strict";cc._RF.push(t,"5f1c2gbe7ZLgYMefdfSk43W","LanguageLabel");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LanguageLabel=void 0;var a=e("./LanguageManager"),s=cc._decorator,c=s.ccclass,l=s.property,u=(s.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.key="",t.bundleName=null,t}return r(t,e),t.prototype.setBundle=function(e){this.bundleName=e},t.prototype.getBundle=function(){return this.bundleName},t.prototype.getString=function(){return a.LanguageManager.instance.getDstStr(this.key,this.bundleName)},t.prototype.onLoad=function(){this.node.getComponent(cc.Label)||this.node.getComponent(cc.RichText)?this.updateLabel():cc.error(this.node.name,this.key)},t.prototype.updateLabel=function(){do{if(!this.key||""==this.key)break;var e=this.node.getComponent(cc.Label);if(!e&&!(e=this.node.getComponent(cc.RichText))){cc.warn("[LanguageLabel], \u8be5\u8282\u70b9\u6ca1\u6709cc.Label || cc.RichText\u7ec4\u4ef6");break}e.string=this.getString()}while(0)},i([l({tooltip:"\u591a\u8bed\u8a00\u952e\u503c"})],t.prototype,"key",void 0),i([c],t)}(cc.Component));o.LanguageLabel=u,cc._RF.pop()},{"./LanguageManager":"LanguageManager"}],LanguageManager:[function(e,t,o){"use strict";cc._RF.push(t,"230a5JK0bdHjZubDZdpKE95","LanguageManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.LanguageManager=o.LanguageType=void 0;var n,r=e("../event/EventMessage"),i=e("../loader/ResLoader"),a=e("../log/Loger"),s=e("../utils/StorageUtil"),c=e("./LanguageLabel"),l=e("./LanguageSprite");(function(e){e.ZH="zh",e.EN="en",e.JA="ja",e.KO="ko",e.TH="th",e.VI="vi",e.PT="pt",e.ID="id",e.ES="es",e.RU="ru",e.DE="de",e.SV="sv",e.IT="it",e.DA="da",e.NL="nl",e.FI="fi",e.FR="fr",e.NO="no",e.PL="pl",e.RO="ro",e.TR="tr",e.MY="my"})(n=o.LanguageType||(o.LanguageType={}));var u=function(){function e(){this._support=["zh"],this._curLangType=n.ZH,this._languageData=new Map}return Object.defineProperty(e,"instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.initLangConf=function(e,t){var o=s.default.get(r.GAMELOCALNAME.GAME_LOCAL_LANGUAGE,!1);o||(o=e),this._curLangType=o,this._support=t},e.prototype.isExist=function(e){return console.log(this._support),this._support.indexOf(e)>-1},e.prototype.switchLang=function(e,t,o){if(!this.isExist(e))return cc.warn("switchLang fail: "+e+" error!"),void(o&&o(!1));e!==this._curLangType?this.loadLanguageAssets(e,t,o):o&&o(!0)},e.prototype.getDstStr=function(e,t){return this._languageData.get(t)[e]},e.prototype.getCurLang=function(){return this._curLangType},e.prototype.loadLanguageAssets=function(e,t,o){var n=this;i.default.load("configs/language/"+e,cc.JsonAsset,t).then(function(r){if(r&&r.json){n.saveLanguage(e),a.Loger.logConfig("\u5f53\u524d\u8bed\u8a00\u4e3a\u3010"+e+"\u3011"),n._curLangType=e,n._languageData.set(t,r.json);for(var i=cc.director.getScene().children,s=0;s<i.length;++s){for(var u=i[s].getComponentsInChildren(c.LanguageLabel),p=0;p<u.length;p++)u[p].updateLabel();var d=i[s].getComponentsInChildren(l.LanguageSprite);for(p=0;p<d.length;p++)d[p].updateSprite()}}else cc.warn("\u6ca1\u6709\u627e\u5230\u6307\u5b9a\u8bed\u8a00\u5185\u5bb9\u914d\u7f6e",e);o&&o(e)})},e.prototype.saveLanguage=function(e){s.default.set(r.GAMELOCALNAME.GAME_LOCAL_LANGUAGE,e)},e}();o.LanguageManager=u,cc._RF.pop()},{"../event/EventMessage":"EventMessage","../loader/ResLoader":"ResLoader","../log/Loger":"Loger","../utils/StorageUtil":"StorageUtil","./LanguageLabel":"LanguageLabel","./LanguageSprite":"LanguageSprite"}],LanguageSprite:[function(e,t,o){"use strict";cc._RF.push(t,"dd9c1S8DBFPGIBWpmauaef+","LanguageSprite");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LanguageSprite=void 0;var a=e("../loader/ResLoader"),s=e("./LanguageManager"),c=cc._decorator,l=c.ccclass,u=c.property,p=c.disallowMultiple,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAtlasType=!1,t.path="",t.atlasPath="",t.spriteFrame="",t.bundleName=null,t}return r(t,e),t.prototype.setBundle=function(e){this.bundleName=e},t.prototype.getBundle=function(){return this.bundleName},t.prototype.onLoad=function(){this.updateSprite()},t.prototype.updateSprite=function(){var e=this.node.getComponent(cc.Sprite);if(e){var t=s.LanguageManager.instance.getCurLang(),o=this;if(o.isAtlasType){if(""===o.atlasPath||""===o.spriteFrame)return;var n=o.atlasPath.replace(new RegExp("&","g"),t);a.default.load(n,cc.SpriteAtlas,o.bundleName).then(function(t){var n=t.getSpriteFrame(o.spriteFrame);e.spriteFrame=n})}else{if(""===o.path)return;n=o.path.replace(new RegExp("&","g"),t),a.default.load(n,cc.SpriteFrame,o.bundleName).then(function(t){e.spriteFrame=t})}}},i([u({tooltip:"\u662f\u5426\u4e3a\u56fe\u96c6\u4e0b\u8d34\u56fe"})],t.prototype,"isAtlasType",void 0),i([u({tooltip:"\u8d34\u56fe\u5730\u5740,\u591a\u8bed\u8a00\u5730\u5740\u7528\u3010&\u3011\u8868\u793a",visible:function(){return!this.isAtlasType}})],t.prototype,"path",void 0),i([u({tooltip:"\u56fe\u96c6\u5730\u5740,\u591a\u8bed\u8a00\u5730\u5740\u7528\u3010&\u3011\u8868\u793a",visible:function(){return this.isAtlasType}})],t.prototype,"atlasPath",void 0),i([u({tooltip:"Atlas\u4e2d\u8d34\u56fe\u8d44\u6e90spriteFrame\u540d\u79f0",visible:function(){return this.isAtlasType}})],t.prototype,"spriteFrame",void 0),i([l,p],t)}(cc.Component);o.LanguageSprite=d,cc._RF.pop()},{"../loader/ResLoader":"ResLoader","./LanguageManager":"LanguageManager"}],LayerDialog:[function(e,t,o){"use strict";cc._RF.push(t,"d1a88RKo7tLQ6lM0rc4JhL6","LayerDialog");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LayerDialog=void 0;var i=e("./Defines"),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.queue=[],t.queue_params=[],t}return r(t,e),t.prototype.add=function(e,t,o,n){var r=this;this.black.enabled=e.isTouch;var a=e.prefab,s=this.getUuid(a),c=this.ui_nodes.get(s);if(null==c){(c=new i.ViewParams).uuid=this.getUuid(a),c.prefabPath=a,c.UIConfig=e,void 0===n&&(n=n={}),c.callbacks=n;var l=c.callbacks.onClose;c.callbacks.onClose=function(e,t){l&&l(e,t),setTimeout(function(){r.next()},0)},c.valid=!0,this.ui_nodes.set(c.uuid,c)}return this.current&&this.current.valid?(this.queue.push(c),this.queue_params.push(t||{})):(c.params=t||{},this.current=c,this.load(c,o)),s},t.prototype.setBlackDisable=function(){0==this.queue.length&&(this.black.enabled=!1)},t.prototype.next=function(){this.queue.length>0&&(this.current=this.queue.shift(),this.current.params=this.queue_params.shift(),this.current.node?this.createNode(this.current):this.load(this.current))},t}(e("./LayerPopUp").LayerPopUp);o.LayerDialog=a,cc._RF.pop()},{"./Defines":"Defines","./LayerPopUp":"LayerPopUp"}],LayerPopUp:[function(e,t,o){"use strict";cc._RF.push(t,"284efupRFhBqYiFmem4bm7a","LayerPopUp");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LayerPopUp=void 0;var i=function(e){function t(t){var o=e.call(this,t)||this;return o.init(),o}return r(t,e),t.prototype.init=function(){this.black=this.addComponent(cc.BlockInputEvents),this.black.enabled=!1},t.prototype.add=function(t,o,n,r){return this.black.enabled=t.isTouch,e.prototype.add.call(this,t,o,n,r)},t.prototype.remove=function(t,o){e.prototype.remove.call(this,t,o),this.setBlackDisable()},t.prototype.removeByUuid=function(t){e.prototype.removeByUuid.call(this,t),this.setBlackDisable()},t.prototype.setBlackDisable=function(){this.black.enabled=!1},t.prototype.clearNodes=function(t){e.prototype.clearNodes.call(this,t),this.black.enabled=!1,this.active=!1},t}(e("./LayerUI").LayerUI);o.LayerPopUp=i,cc._RF.pop()},{"./LayerUI":"LayerUI"}],LayerToast:[function(e,t,o){"use strict";cc._RF.push(t,"1b65fvOY15MVofnqQdILyps","LayerToast");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LayerToast=void 0;var i=e("../../component/model/ToastModel"),a=e("../loader/ResLoader"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.show=function(e,t){var o=this,n=this.getChildByName("Toast");n?n.getComponent(i.default).show(t):a.default.load(e.prefab,cc.Prefab,e.bundle).then(function(e){var n=cc.instantiate(e);o.addChild(n),n.name="Toast",n.getComponent(i.default).show(t)})},t}(e("./LayerUI").LayerUI);o.LayerToast=s,cc._RF.pop()},{"../../component/model/ToastModel":"ToastModel","../loader/ResLoader":"ResLoader","./LayerUI":"LayerUI"}],LayerUI:[function(e,t,o){"use strict";cc._RF.push(t,"c6274LNINtOEoxMiajsE66P","LayerUI");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LayerUI=void 0;var i=e("../loader/ResLoader"),a=e("./Defines"),s=e("./DelegateComponent"),c=function(e){function t(t){var o=e.call(this,t)||this;o.ui_nodes=new Map,o.ui_cache=new Map;var n=o.addComponent(cc.Widget);return n.isAlignLeft=n.isAlignRight=n.isAlignTop=n.isAlignBottom=!0,n.left=n.right=n.top=n.bottom=0,n.enabled=!0,o}return r(t,e),t.prototype.getUuid=function(e){return(this.name+"_"+e).replace(/\//g,"_")},t.prototype.add=function(e,t,o,n){var r=e.prefab,i=this.getUuid(r),s=this.ui_nodes.get(i);return s&&s.valid?(cc.warn("\u8def\u5f84\u4e3a\u3010"+r+"\u3011\u7684\u9884\u5236\u91cd\u590d\u52a0\u8f7d"),""):(null==s&&((s=new a.ViewParams).uuid=i,s.prefabPath=r,this.ui_nodes.set(s.uuid,s)),void 0===t&&(t={}),void 0===n&&(n={}),s.params=t,s.callbacks=n,s.valid=!0,s.UIConfig=e,this.load(s,o),i)},t.prototype.load=function(e,t){var o=this,n=this.ui_nodes.get(e.uuid);n&&n.node?this.createNode(n):i.default.load(e.prefabPath,cc.Prefab,e.UIConfig.bundle).then(function(n){var r=cc.instantiate(n);e.node=r,r.addComponent(s.DelegateComponent).viewParams=e,o.createNode(e),t&&t.run(),t=null})},t.prototype.createNode=function(e){return e.valid=!0,e.node.getComponent(s.DelegateComponent).add(),this.addChild(e.node),e.node},t.prototype.remove=function(e,t){t&&this.removeCache(e);for(var o=this.__nodes(),n=0;n<o.length;n++){var r=o[n].viewParams;r.prefabPath===e&&(t?this.ui_nodes.delete(r.uuid):this.ui_cache.set(r.prefabPath,r),o[n].remove(t),r.valid=!1)}},t.prototype.removeByUuid=function(e){var t=this.ui_nodes.get(e);t&&(t.UIConfig.isDestroy&&this.ui_nodes.delete(t.uuid),t.node.getComponent(s.DelegateComponent).remove(t.UIConfig.isDestroy))},t.prototype.removeCache=function(e){var t=this.ui_cache.get(e);t&&(t.node.getComponent(s.DelegateComponent).remove(!0),this.ui_nodes.delete(t.uuid),this.ui_cache.delete(e))},t.prototype.getByUuid=function(e){for(var t=0,o=this.__nodes();t<o.length;t++){var n=o[t];if(n.viewParams&&n.viewParams.uuid===e)return n.node}return null},t.prototype.get=function(e){for(var t=[],o=0,n=this.__nodes();o<n.length;o++){var r=n[o];r.viewParams.prefabPath===e&&t.push(r.node)}return t},t.prototype.has=function(e){for(var t=0,o=this.__nodes();t<o.length;t++){var n=o[t];if(n.viewParams.uuid===e||n.viewParams.prefabPath===e)return!0}return!1},t.prototype.find=function(e){for(var t=[],o=0,n=this.__nodes();o<n.length;o++){var r=n[o];e.test(r.viewParams.prefabPath)&&t.push(r.node)}return t},t.prototype.__nodes=function(){for(var e=[],t=this.children,o=0;o<t.length;o++){var n=t[o].getComponent(s.DelegateComponent);n&&n.viewParams&&n.viewParams.valid&&cc.isValid(n)&&e.push(n)}return e},t.prototype.size=function(){return this.children.length},t.prototype.clearNodes=function(e){var t=this;this.ui_nodes.forEach(function(e){t.removeByUuid(e.uuid),e.valid=!1}),this.ui_nodes.clear(),e&&this.ui_cache.forEach(function(e,o){t.removeCache(o)})},t}(cc.Node);o.LayerUI=c,cc._RF.pop()},{"../loader/ResLoader":"ResLoader","./Defines":"Defines","./DelegateComponent":"DelegateComponent"}],LoadingModel:[function(e,t,o){"use strict";cc._RF.push(t,"d0952jJH3xDvLRSKSK3n9j9","LoadingModel");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../core/language/LanguageManager"),s=e("../../core/loader/ResLoader"),c=e("../../core/manager/Handler"),l=cc._decorator,u=l.ccclass,p=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bundleName="",t}return r(t,e),t.prototype.load=function(){var e=this,t=this;s.default.loadBundle(this.bundleName).then(function(){var o=c.default.create(e,function(){s.default.load("configs/GameResConfig",cc.JsonAsset,t.bundleName).then(function(e){var o=e.json.resConfig;t.loadProgress(0),t.loadRes(o)})});t.loadLanguagePack(o)})},t.prototype.loadRes=function(e){var t=this;s.default.loadArrRes(t.bundleName,e,function(e){t.loadProgress(e)},function(){t.loadProgress(1),t.loadCompleteCallBack()})},t.prototype.loadCompleteCallBack=function(){},t.prototype.loadProgress=function(){},t.prototype.loadLanguagePack=function(e){a.LanguageManager.instance.loadLanguageAssets(a.LanguageManager.instance.getCurLang(),this.bundleName,function(){e.run()})},i([u],t)}(cc.Component));o.default=p,cc._RF.pop()},{"../../core/language/LanguageManager":"LanguageManager","../../core/loader/ResLoader":"ResLoader","../../core/manager/Handler":"Handler"}],Loger:[function(e,t,o){"use strict";var n;cc._RF.push(t,"7e900fSi9RB/alMzvm/cvN/","Loger"),Object.defineProperty(o,"__esModule",{value:!0}),o.Loger=o.LogerType=void 0,function(e){e[e.Net=1]="Net",e[e.Model=2]="Model",e[e.Business=4]="Business",e[e.View=8]="View",e[e.Config=16]="Config",e[e.Trace=32]="Trace"}(n=o.LogerType||(o.LogerType={}));var r={1:"\u7f51\u7edc\u65e5\u5fd7",2:"\u6570\u636e\u65e5\u5fd7",4:"\u4e1a\u52a1\u65e5\u5fd7",8:"\u89c6\u56fe\u65e5\u5fd7",16:"\u914d\u7f6e\u65e5\u5fd7",32:"\u6807\u51c6\u65e5\u5fd7"},i=function(){function e(){}return e.init=function(){this.tags=n.Net|n.Model|n.Business|n.View|n.Config|n.Trace},e.setTags=function(e){void 0===e&&(e=null),e&&(this.tags=e)},e.start=function(e){void 0===e&&(e="Time"),console.time(e)},e.end=function(e){void 0===e&&(e="Time"),console.timeEnd(e)},e.table=function(e){this.isOpen(n.Trace)&&console.table(e)},e.trace=function(e,t){void 0===t&&(t="color:#000000;"),this.isOpen(n.Trace)&&(console.log||cc.log).call(null,"%c%s%s",t,this.getDateString(),e)},e.logNet=function(e,t){this.orange(n.Net,e,t)},e.logModel=function(e,t){this.violet(n.Model,e,t)},e.logBusiness=function(e,t){this.blue(n.Business,e,t)},e.logView=function(e,t){this.green(n.View,e,t)},e.logConfig=function(e,t){this.gray(n.Config,e,t)},e.orange=function(e,t,o){this.print(e,t,"color:#ee7700;",o)},e.violet=function(e,t,o){this.print(e,t,"color:Violet;",o)},e.blue=function(e,t,o){this.print(e,t,"color:#3a5fcd;",o)},e.green=function(e,t,o){this.print(e,t,"color:green;",o)},e.gray=function(e,t,o){this.print(e,t,"color:gray;",o)},e.isOpen=function(e){return 0!=(this.tags&e)},e.print=function(e,t,o,n){if(this.isOpen(e)){var i=console.log||cc.log,a=r[e];n?i.call(null,"%c%s%s%s:%s%o",o,this.getDateString(),"["+a+"]",this.stack(5),n,t):i.call(null,"%c%s%s%s:%o",o,this.getDateString(),"["+a+"]",this.stack(5),t)}},e.stack=function(e){var t=(new Error).stack.split("\n"),o=[];t.forEach(function(e){var t,n=(e=e.substring(7)).split(" ");n.length<2?o.push(n[0]):o.push(((t={})[n[0]]=n[1],t))});var n,r=[],i=[];if(e<o.length-1)for(var a in o[e])if(2==(i=a.split(".")).length)r=i.concat();else{var s=(n=o[e][a]).lastIndexOf("/"),c=n.lastIndexOf(".");if(s>-1&&c>-1){var l=n.substring(s+1,c);r.push(l)}else r.push(n)}return 1==r.length?"["+r[0]+".ts]":2==r.length?"["+r[0]+".ts->"+r[1]+"]":""},e.getDateString=function(){var e=new Date,t=e.getHours().toString(),o="";return o+=(1==t.length?"0"+t:t)+":",o+=(1==(t=e.getMinutes().toString()).length?"0"+t:t)+":",o+=(1==(t=e.getSeconds().toString()).length?"0"+t:t)+":",1==(t=e.getMilliseconds().toString()).length&&(t="00"+t),2==t.length&&(t="0"+t),"["+(o+=t)+"]"},e.tags=0,e}();o.Loger=i,i.init(),cc._RF.pop()},{}],MainSceneViewModel:[function(e,t,o){"use strict";cc._RF.push(t,"46e33BpCi1CPaVo9hmgKo+T","MainSceneViewModel");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../base"),s=e("../../core/event/EventMessage"),c=e("../../core/event/MessageManager"),l=e("../../core/gui/GUI"),u=e("../../core/gui/GUIView"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isResume=!0,t}return r(t,e),t.prototype.onLoad=function(){this.init(),this.run()},t.prototype.onDestroy=function(){l.GUI.instance.clear()},t.prototype.initGui=function(){},t.prototype.run=function(){},t.prototype.init=function(){var e=this;l.GUI.instance.setRoot(this.node),this.initGui(),cc.game.on(cc.game.EVENT_SHOW,function(){cc.log("Game.EVENT_SHOW"),e.isResume&&(a.base.TimerManager.load(),cc.director.resume(),cc.game.resume()),c.default.getInstance().dispatchEvent(s.EventMessage.GAME_ENTER)}),cc.game.on(cc.game.EVENT_HIDE,function(){cc.log("Game.EVENT_HIDE"),e.isResume&&(a.base.TimerManager.save(),cc.director.pause(),cc.game.pause()),c.default.getInstance().dispatchEvent(s.EventMessage.GAME_EXIT)});var t=this.node.addComponent(u.GUIView);0==cc.sys.isMobile&&cc.view.setResizeCallback(function(){t.resize(),c.default.getInstance().dispatchEvent(s.EventMessage.GAME_RESIZE)})},i([f({tooltip:"\u5207\u6362\u540e\u53f0\u662f\u5426\u6682\u505c\u6e38\u620f"})],t.prototype,"isResume",void 0),i([d],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../base":"base","../../core/event/EventMessage":"EventMessage","../../core/event/MessageManager":"MessageManager","../../core/gui/GUI":"GUI","../../core/gui/GUIView":"GUIView"}],MainViewModel:[function(e,t,o){"use strict";cc._RF.push(t,"e7376Ov1BZIiaSPQdCHCrmK","MainViewModel");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../model/BaseViewModel"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),i([c],t)}(a.default));o.default=l,cc._RF.pop()},{"../model/BaseViewModel":"BaseViewModel"}],MathUtil:[function(e,t,o){"use strict";cc._RF.push(t,"a0ebdOEAQlKJ4YaYTs+Fftv","MathUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.getRandom=function(e,t){return Math.random()*(t-e)+e},e.getIntRandom=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1),Math.floor(Math.random()*(t-e+1))+e},e.getPseudoRandomInt=function(e,t){return Math.ceil((9301*e+49297)%233280/233280*t)},e.getAngle=function(e,t){return Math.atan((t.y-e.y)/(t.x-e.x))},e.getDistance=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},e.angleToRadian=function(e){return e*Math.PI/180},e.addSafely=function(e,t){var o=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,r=Math.pow(10,Math.max(o,n));return(e*r+t*r)/r},e}();o.default=n,cc._RF.pop()},{}],MessageManager:[function(e,t,o){"use strict";cc._RF.push(t,"9ca8csHzcRGMZC/kFw/4gre","MessageManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.MessageEventData=void 0;var n=function(){},r=function(){function e(){this.events={}}return e.prototype.addEventListener=function(e,t,o){var r=this.events[e];null==r&&(r=[],this.events[e]=r);var a=new n;a.event=e,a.listener=t,a.object=o,r.push(a),i.getInstance().addEventListener(e,t,o)},e.prototype.removeEventListener=function(e){var t=this.events[e];if(t){for(var o=0,n=t;o<n.length;o++){var r=n[o];i.getInstance().removeEventListener(e,r.listener,r.object)}delete this.events[e]}},e.prototype.dispatchEvent=function(e,t){void 0===t&&(t=null),i.getInstance().dispatchEvent(e,t)},e.prototype.clear=function(){for(var e in this.events)this.removeEventListener(e)},e}();o.MessageEventData=r;var i=function(){function e(){this.events={}}return e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.addEventListener=function(e,t,o){if(e&&t){var r=this.events[e];null==r&&(r=[],this.events[e]=r);for(var i=r.length,a=0;a<i;a++){var s=r[a];s.listener==t&&s.object==o&&console.warn("\u540d\u4e3a\u3010"+e+"\u3011\u7684\u4e8b\u4ef6\u91cd\u590d\u6ce8\u518c\u4fa6\u542c\u5668")}var c=new n;c.event=e,c.listener=t,c.object=o,r.push(c)}else console.warn("\u6ce8\u518c\u3010"+e+"\u3011\u4e8b\u4ef6\u7684\u4fa6\u542c\u5668\u51fd\u6570\u4e3a\u7a7a")},e.prototype.addOnceEventListener=function(e,t,o){var n=this,r=function(i,a){n.removeEventListener(e,r,o),r=null,t.call(o,i,a)};this.addEventListener(e,r,o)},e.prototype.removeEventListener=function(e,t,o){var n=this.events[e];if(n){for(var r=n.length,i=0;i<r;i++){var a=n[i];if(a.listener==t&&a.object==o){n.splice(i,1);break}}0==n.length&&delete this.events[e]}else console.log("\u540d\u4e3a\u3010"+e+"\u3011\u7684\u4e8b\u4ef6\u4e0d\u5b58\u5728")},e.prototype.dispatchEvent=function(e,t){void 0===t&&(t=null);var o=this.events[e];if(null!=o)for(var n=o.concat(),r=n.length,i=0;i<r;i++){var a=n[i];a.listener.call(a.object,e,t)}},e._instance=null,e}();o.default=i,cc._RF.pop()},{}],MultiPSRandomRefreshTool:[function(e,t,o){"use strict";cc._RF.push(t,"8f4f7BI0AlMfbjvdpMflTez","MultiPSRandomRefreshTool");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.aniFps=15,t.psNodeNum=5,t.emissionRate=10,t.psIndexArray=[],t.psArray=[],t.count=0,t.spriteArray=[],t}return r(t,e),t.prototype.onLoad=function(){if(this.atlas){this.psArray=this.node.getComponentsInChildren(cc.ParticleSystem),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length;var e=Math.round(Math.random()*this.count);for(this.psIndexArray.push(e);this.psArray.length<this.psNodeNum;){var t=cc.instantiate(this.psArray[0].node);t.parent=this.psArray[0].node.parent;var o=Math.round(Math.random()*this.count);this.psIndexArray.push(o),this.psArray.push(t.getComponent(cc.ParticleSystem))}}},t.prototype.onEnable=function(){this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},t.prototype.onDisable=function(){this.unschedule(this.refreshSprite)},t.prototype.refreshSprite=function(){for(var e=0;e<this.psArray.length;e++){var t=this.psArray[e];this.psIndexArray[e]>=this.count&&(this.psIndexArray[e]=0),t.spriteFrame=this.spriteArray[this.psIndexArray[e]],t.emissionRate=this.emissionRate,t.autoRemoveOnFinish=!1,this.psIndexArray[e]++}},i([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],t.prototype,"atlas",void 0),i([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],t.prototype,"aniFps",void 0),i([c({tooltip:"ParticleSystem\u8282\u70b9\u603b\u6570\u91cf"})],t.prototype,"psNodeNum",void 0),i([c({tooltip:"\u5355\u7c92\u5b50\u8282\u70b9\u6bcf\u79d2\u53d1\u5c04\u7c92\u5b50\u6570\u76ee"})],t.prototype,"emissionRate",void 0),i([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],NativeMger:[function(e,t,o){"use strict";cc._RF.push(t,"0954cYTEUFHe5wXnkCl4VJn","NativeMger"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../global/Global"),r=e("../utils/DeviceUtil"),i=e("../wx/WxManager"),a=function(){function e(){}return e.vibrateShort=function(e){if(n.default.getInstance().getVibrateShort())return i.default.getInstance().vibrateShort(e),!0},e.onShare=function(e,t,o){if(r.default.isWeChat)return i.default.getInstance().share(e,t,o)},e.openBrowser=function(e){if(r.default.isWeChat)return this.setClipboardData(e);(r.default.isBrowser||r.default.isMobileBrowser||r.default.isDesktopBrowser)&&window.open(e)},e.setClipboardData=function(e){e&&""!=e&&r.default.isWeChat&&i.default.getInstance().setClipboardData(e)},e}();o.default=a,cc._RF.pop()},{"../../global/Global":"Global","../utils/DeviceUtil":"DeviceUtil","../wx/WxManager":"WxManager"}],NodeUtil:[function(e,t,o){"use strict";cc._RF.push(t,"46cb1oNJqlMx4cZytJ5BNOd","NodeUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.getRelativePosition=function(e,t){var o=(e.getParent()||e).convertToWorldSpaceAR(e.getPosition());return t.convertToNodeSpaceAR(o)},e.isPosOnNodeRect=function(e,t){return t.getBoundingBoxToWorld().contains(e)},e.areNodesOverlap=function(e,t,o){void 0===o&&(o=!1);var n=e.getBoundingBoxToWorld(),r=t.getBoundingBoxToWorld();return o?n.containsRect(r):n.intersects(r)},e.getNodeSelfBoundingBoxToWorld=function(e){e.parent._updateWorldMatrix();var t=e.getContentSize(),o=t.width,n=t.height,r=e.getAnchorPoint(),i=cc.rect(-r.x*o,-r.y*n,o,n);return e._calculWorldMatrix(),i.transformMat4(i,e._worldMatrix),i},e}();o.default=n,cc._RF.pop()},{}],ObjectUtil:[function(e,t,o){"use strict";cc._RF.push(t,"fb209bzmuJIU4iPE1VFdNwV","ObjectUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},e.deepCopy=function(t){if(null==t||"object"!=typeof t)return t;if(t instanceof Array){for(var o=[],n=0,r=t.length;n<r;n++)o[n]=e.deepCopy(t[n]);return o}if(t instanceof Object){for(var i in o={},t)t.hasOwnProperty(i)&&(o[i]=e.deepCopy(t[i]));return o}return t instanceof Date?(new Date).setTime(t.getTime()):(console.warn("\u4e0d\u652f\u6301\u7684\u7c7b\u578b\uff1a"+t),null)},e.copy=function(e){return JSON.parse(JSON.stringify(e))},e}();o.default=n,cc._RF.pop()},{}],ParticleSystemSpriteFramesRefresh:[function(e,t,o){"use strict";cc._RF.push(t,"80f19BNi4JFLLokTv9yV4NA","ParticleSystemSpriteFramesRefresh");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.aniFps=15,t.ps=null,t.index=0,t.count=0,t.spriteArray=[],t}return r(t,e),t.prototype.onLoad=function(){this.ps||(this.ps=this.node.getComponent(cc.ParticleSystem)),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length,this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},t.prototype.refreshSprite=function(){this.index>=this.count&&(this.index=0),this.ps.spriteFrame=this.spriteArray[this.index],this.index++},i([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],t.prototype,"atlas",void 0),i([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],t.prototype,"aniFps",void 0),i([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],PoolNodeMger:[function(e,t,o){"use strict";cc._RF.push(t,"352d9vn9GBAIaKtN4+X5sW6","PoolNodeMger"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.dictPool={},this.dictPrefab={}}return Object.defineProperty(e,"instance",{get:function(){return this._instance?this._instance:(this._instance=new e,this._instance)},enumerable:!1,configurable:!0}),e.prototype.getNode=function(e,t){var o=e.name;e.position||(o=e.data.name),this.dictPrefab[o]=e;var n=null;if(this.dictPool.hasOwnProperty(o))n=(r=this.dictPool[o]).size()>0?r.get():cc.instantiate(e);else{var r=new cc.NodePool;this.dictPool[o]=r,n=cc.instantiate(e)}return t&&(n.parent=t),n.active=!0,n},e.prototype.putNode=function(e){if(e){var t=e.name,o=null;this.dictPool.hasOwnProperty(t)?o=this.dictPool[t]:(o=new cc.NodePool,this.dictPool[t]=o),o.put(e)}},e.prototype.clearPool=function(e){this.dictPool.hasOwnProperty(e)&&this.dictPool[e].clear()},e}();o.default=n,cc._RF.pop()},{}],PopupModel:[function(e,t,o){"use strict";cc._RF.push(t,"5eb338JJkpGFL99IqU8Tyww","PopupModel");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../core/gui/GUI"),s=e("./BaseViewModel"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ui_mask=null,t.ui_control=null,t}return r(t,e),t.prototype.onLoad=function(){if(this.ui_mask){var t=this.ui_mask.getComponent(cc.Sprite);t.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.type=cc.Sprite.Type.SLICED,this.ui_mask.setContentSize(cc.view.getVisibleSize())}e.prototype.onLoad.call(this)},t.prototype.closeAni=function(e,t){var o=this;void 0===e&&(e=!0),e&&this.ui_control?cc.tween(this.ui_control).to(.3,{scale:0},{easing:"backIn"}).call(function(){o.closeNode(),t&&t.run(),t=null}).start():this.closeNode()},t.prototype.openAni=function(e,t){void 0===e&&(e=!0),this.node.active=!0,e&&this.ui_control&&(this.ui_control.scale=.01,cc.tween(this.ui_control).to(.3,{scale:1},{easing:"backOut"}).call(function(){t&&t.run(),t=null}).start())},t.prototype.closeNode=function(){a.GUI.instance.close(this)},i([u({type:cc.Node,tooltip:"\u906e\u7f69\u8282\u70b9"})],t.prototype,"ui_mask",void 0),i([u({type:cc.Node,tooltip:"\u63a7\u5236\u8282\u70b9"})],t.prototype,"ui_control",void 0),i([l],t)}(s.default);o.default=p,cc._RF.pop()},{"../../core/gui/GUI":"GUI","./BaseViewModel":"BaseViewModel"}],Priority:[function(e,t,o){"use strict";cc._RF.push(t,"62746RERb9MaLhU1kl9v7g+","Priority");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Priority=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.success=function(){e.prototype.success.call(this),this._control.success()},t.prototype.fail=function(){e.prototype.fail.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.fail()},t}(e("./BranchNode").BranchNode);o.Priority=i,cc._RF.pop()},{"./BranchNode":"BranchNode"}],PromiseUtil:[function(e,t,o){"use strict";cc._RF.push(t,"64be0cwZHRLB6BKeF4elp6t","PromiseUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.sleep=function(e){return new Promise(function(t){return cc.Canvas.instance.scheduleOnce(t,e)})},e}();o.default=n,cc._RF.pop()},{}],RegexUtil:[function(e,t,o){"use strict";cc._RF.push(t,"2e1fauTobVGHqb2V5r0/95T","RegexUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.isDWORD=function(e){return/[^\x00-\xff]/.test(e)},e}();o.default=n,cc._RF.pop()},{}],RenderUtil:[function(e,t,o){"use strict";cc._RF.push(t,"9b9e67p73dHZZeDTbbXVIlO","RenderUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.getRenderTexture=function(e,t){if(!cc.isValid(e))return null;t&&t instanceof cc.RenderTexture||(t=new cc.RenderTexture);var o=Math.floor(e.width),n=Math.floor(e.height);t.initWithSize(o,n);var r=new cc.Node;r.parent=e;var i=r.addComponent(cc.Camera);return i.clearFlags|=cc.Camera.ClearFlags.COLOR,i.backgroundColor=cc.color(0,0,0,0),i.zoomRatio=cc.winSize.height/n,i.targetTexture=t,i.render(e),r.destroy(),t},e.renderWithMaterial=function(e,t,o){t instanceof cc.Material&&(o=t,t=new cc.RenderTexture);var n=new cc.Node;n.setParent(cc.Canvas.instance.node);var r=n.addComponent(cc.Sprite);r.sizeMode=cc.Sprite.SizeMode.RAW,r.trim=!1,r.spriteFrame=new cc.SpriteFrame(e);var i=e.width,a=e.height;t.initWithSize(i,a),o instanceof cc.Material&&r.setMaterial(0,o);var s=new cc.Node;s.setParent(n);var c=s.addComponent(cc.Camera);return c.clearFlags|=cc.Camera.ClearFlags.COLOR,c.backgroundColor=cc.color(0,0,0,0),c.zoomRatio=cc.winSize.height/a,c.targetTexture=t,c.render(n),s.destroy(),n.destroy(),t},e.getPixelsData=function(e,t){if(void 0===t&&(t=!0),!cc.isValid(e))return null;var o=Math.floor(e.width),n=Math.floor(e.height),r=new cc.Node;r.parent=e;var i=r.addComponent(cc.Camera);i.clearFlags|=cc.Camera.ClearFlags.COLOR,i.backgroundColor=cc.color(0,0,0,0),i.zoomRatio=cc.winSize.height/n;var a=new cc.RenderTexture;a.initWithSize(o,n,cc.RenderTexture.DepthStencilFormat.RB_FMT_S8),i.targetTexture=a,i.render(e);var s=a.readPixels();if(a.destroy(),r.destroy(),t){for(var c=s.length,l=4*o,u=new Uint8Array(c),p=0,d=c-l;p<c;p+=l,d-=l)for(var f=0;f<l;f++)u[p+f]=s[d+f];return u}return s},e.flipY=function(e,t){for(var o=e.length,n=new Uint8Array(o),r=0,i=o-t;r<o;r+=t,i-=t)for(var a=0;a<t;a++)n[r+a]=e[i+a];return n},e}();o.default=n,cc._RF.pop()},{}],ResLoader:[function(e,t,o){"use strict";cc._RF.push(t,"aa807xNXllPuJE3KNqcjgrl","ResLoader"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.loadArrRes=function(e,t,o,n){var r=cc.assetManager.getBundle(e);if(!r)return console.error("\u3010"+e+"\u3011subpackage is null");r.load(t,function(e,t){o&&o(e/t)},function(e){if(!e)return n&&n()})},e.loadRes=function(e,t,o,n){var r=cc.assetManager.getBundle(n);if(!r)return o("\u3010"+n+"\u3011subpackage is null");var i=r.get(e,t);i?o(null,i):r.load(e,t,function(e,t){if(e)return o(e);o(null,t)})},e.load=function(e,t,o){var n=this;return new Promise(function(r,i){n.loadRes(e,t,function(e,t){if(e)return console.error(e),void i();r(t)},o)})},e.get=function(e,t,o){return cc.assetManager.getBundle(o).get(e,t)},e.dump=function(){cc.assetManager.assets.forEach(function(e,t){console.log(cc.assetManager.assets.get(t))}),console.log("\u5f53\u524d\u8d44\u6e90\u603b\u6570:"+cc.assetManager.assets.count)},e.loadBundle=function(e){return new Promise(function(t,o){cc.assetManager.loadBundle(e,function(n,r){n&&(console.error("\u5206\u5305\u52a0\u8f7d\u5931\u8d25\u3010"+e+"\u3011"),o()),t(r)})})},e.removeBundle=function(e){return new Promise(function(t){var o=cc.assetManager.getBundle(e);o&&(o.releaseAll(),cc.assetManager.removeBundle(o)),t()})},e.releaseBundle=function(e){return new Promise(function(t){var o=cc.assetManager.getBundle(e);o&&o.releaseAll(),t()})},e.loadRemoteWXImg=function(e){return new Promise(function(t,o){cc.assetManager.loadRemote(e,{ext:".jpg"},function(e,n){if(e)return o();var r=new cc.SpriteFrame;return r.setTexture(n),t(r)})})},e}();o.default=n,cc._RF.pop()},{}],Selector:[function(e,t,o){"use strict";cc._RF.push(t,"ef2b8om/4xILowwGTDLZytW","Selector");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Selector=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.success=function(){e.prototype.success.call(this),this._control.success()},t.prototype.fail=function(){e.prototype.fail.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.fail()},t.prototype._run=function(){this._nodeRunning?this._nodeRunning.run(this._blackboard):e.prototype._run.call(this)},t}(e("./BranchNode").BranchNode);o.Selector=i,cc._RF.pop()},{"./BranchNode":"BranchNode"}],Sequence:[function(e,t,o){"use strict";cc._RF.push(t,"f0f39kY19NM/phlVlfSWXT9","Sequence");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Sequence=void 0;var i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.success=function(){e.prototype.success.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.success()},t.prototype.fail=function(){e.prototype.fail.call(this),this._control.fail()},t.prototype._run=function(){this._nodeRunning?this._nodeRunning.run(this._blackboard):e.prototype._run.call(this)},t}(e("./BranchNode").BranchNode);o.Sequence=i,cc._RF.pop()},{"./BranchNode":"BranchNode"}],SoundMger:[function(e,t,o){"use strict";cc._RF.push(t,"647ad36pT9G2K41sUgsHgmA","SoundMger"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../loader/ResLoader"),r=function(){function e(){this._musicVolume=.5,this._effectsVolume=.5}return Object.defineProperty(e,"instance",{get:function(){return this._instance?this._instance:(this._instance=new e,this._instance.init(),this._instance)},enumerable:!1,configurable:!0}),e.prototype.init=function(){cc.sys.localStorage.getItem("LOCAL_MUSICVOLUME")?(this._musicVolume=parseFloat(cc.sys.localStorage.getItem("LOCAL_MUSICVOLUME")),this._effectsVolume=parseFloat(cc.sys.localStorage.getItem("LOCAL_EFFECTSVOLUME"))):(cc.sys.localStorage.setItem("LOCAL_MUSICVOLUME",this._musicVolume.toString()),cc.sys.localStorage.setItem("LOCAL_EFFECTSVOLUME",this._effectsVolume.toString())),this.setEffectsVolume(this._musicVolume),this.setMusicVolume(this._musicVolume)},e.prototype.getClip=function(e,t,o){n.default.load("sounds/"+e,cc.AudioClip,o).then(function(e){t(e)})},e.prototype.playEffect=function(e,t,o){void 0===e&&(e="click"),this._effectsVolume<=0||this.getClip(e,function(e){cc.audioEngine.playEffect(e,o)},t)},e.prototype.stopEffect=function(){cc.audioEngine.stopAllEffects()},e.prototype.setEffectsVolume=function(e){this._effectsVolume=e,cc.audioEngine.setEffectsVolume(e),cc.sys.localStorage.setItem("LOCAL_EFFECTSVOLUME",e.toString())},e.prototype.getEffectsVolume=function(){return this._effectsVolume},e.prototype.playMusic=function(e,t){this._musicVolume<=0||this.getClip(e,function(e){cc.audioEngine.isMusicPlaying()&&cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(e,!0)},t)},e.prototype.stopMusic=function(){cc.audioEngine.isMusicPlaying()&&cc.audioEngine.stopMusic()},e.prototype.setMusicVolume=function(e){this._musicVolume=e,cc.audioEngine.setMusicVolume(e),cc.sys.localStorage.setItem("LOCAL_MUSICVOLUME",e.toString())},e.prototype.getMusicVolume=function(){return this._musicVolume},e.prototype.getIsMusic=function(){return this._musicVolume>0},e.prototype.getIsEffects=function(){return this._effectsVolume>0},e}();o.default=r,cc._RF.pop()},{"../loader/ResLoader":"ResLoader"}],StartSceneViewModel:[function(e,t,o){"use strict";cc._RF.push(t,"b5c814r4LFN0r5EQ80/C14r","StartSceneViewModel");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../base"),s=e("../../core/event/EventMessage"),c=e("../../core/event/MessageManager"),l=e("../../core/gui/GUI"),u=e("../../core/gui/GUIView"),p=e("../../core/language/LanguageManager"),d=e("../../core/timer/TimerManager"),f=e("../../core/wx/WxManager"),h=e("../../global/Global"),g=cc._decorator,y=g.ccclass,_=g.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameConfig=null,t.isResume=!0,t.persistRootNode=null,t}return r(t,e),t.prototype.onLoad=function(){this.gameConfig?(this.init(),this.run()):console.error("\u3010GameConfig.json\u3011 No configuration!")},t.prototype.onDestroy=function(){},t.prototype.initGui=function(){l.GUI.instance.clear()},t.prototype.run=function(){},t.prototype.init=function(){var e=this;this.persistRootNode=new cc.Node("PersistRootNode"),cc.game.addPersistRootNode(this.persistRootNode),h.default.getInstance().setGameConfig(this.gameConfig.json),f.default.getInstance().init(),p.LanguageManager.instance.initLangConf(this.gameConfig.json.defultLanguage,this.gameConfig.json.languages),a.base.TimerManager=this.persistRootNode.addComponent(d.TimerManager),l.GUI.instance.setRoot(this.node),this.initGui(),cc.game.on(cc.game.EVENT_SHOW,function(){cc.log("Game.EVENT_SHOW"),e.isResume&&(a.base.TimerManager.load(),cc.director.resume(),cc.game.resume()),c.default.getInstance().dispatchEvent(s.EventMessage.GAME_ENTER)}),cc.game.on(cc.game.EVENT_HIDE,function(){cc.log("Game.EVENT_HIDE"),e.isResume&&(a.base.TimerManager.save(),cc.director.pause(),cc.game.pause()),c.default.getInstance().dispatchEvent(s.EventMessage.GAME_EXIT)}),cc.view.resizeWithBrowserSize(!0);var t=this.node.addComponent(u.GUIView);0==cc.sys.isMobile&&cc.view.setResizeCallback(function(){t.resize(),c.default.getInstance().dispatchEvent(s.EventMessage.GAME_RESIZE)})},i([_({type:cc.JsonAsset,tooltip:"\u6e38\u620f\u914d\u7f6e\u3010GameConfig.json\u3011\u6587\u4ef6"})],t.prototype,"gameConfig",void 0),i([_({tooltip:"\u5207\u6362\u540e\u53f0\u662f\u5426\u6682\u505c\u6e38\u620f"})],t.prototype,"isResume",void 0),i([y],t)}(cc.Component);o.default=m,cc._RF.pop()},{"../../base":"base","../../core/event/EventMessage":"EventMessage","../../core/event/MessageManager":"MessageManager","../../core/gui/GUI":"GUI","../../core/gui/GUIView":"GUIView","../../core/language/LanguageManager":"LanguageManager","../../core/timer/TimerManager":"TimerManager","../../core/wx/WxManager":"WxManager","../../global/Global":"Global"}],StorageUtil:[function(e,t,o){"use strict";cc._RF.push(t,"61438ftpzdFgrs81JH55dk7","StorageUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.set=function(e,t){if(null!=e){if(null==t)return console.warn("\u5b58\u50a8\u7684\u503c\u4e3a\u7a7a\uff0c\u5219\u76f4\u63a5\u79fb\u9664\u8be5\u5b58\u50a8"),void this.remove(e);if("function"!=typeof t){if("object"==typeof t)try{t=JSON.stringify(t)}catch(o){return void console.error("\u89e3\u6790\u5931\u8d25\uff0cstr = "+t)}else"number"==typeof t&&(t+="");cc.sys.localStorage.setItem(e,t)}else console.error("\u50a8\u5b58\u7684\u503c\u4e0d\u80fd\u4e3a\u65b9\u6cd5")}else console.error("\u5b58\u50a8\u7684key\u4e0d\u80fd\u4e3a\u7a7a")},e.get=function(e,t){if(void 0===t&&(t=""),null==e)return console.error("\u5b58\u50a8\u7684key\u4e0d\u80fd\u4e3a\u7a7a"),null;var o=cc.sys.localStorage.getItem(e);return null===o?t:o},e.getNumber=function(e,t){void 0===t&&(t=0);var o=this.get(e);return Number(o)||t},e.setBoolean=function(e,t){this.set(e,t?"true":"false")},e.getBoolean=function(e,t){var o=this.get(e);return""==o?t:"true"==o},e.getJson=function(e,t){var o=this.get(e);return o&&JSON.parse(o)||t},e.remove=function(e){null!=e?cc.sys.localStorage.removeItem(e):console.error("\u5b58\u50a8\u7684key\u4e0d\u80fd\u4e3a\u7a7a")},e.clear=function(){cc.sys.localStorage.clear()},e}();o.default=n,cc._RF.pop()},{}],StringUtil:[function(e,t,o){"use strict";cc._RF.push(t,"2b3eahZ0ZtLULZ/qoIQfNUW","StringUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.StringUtil=void 0;var n=function(){function e(){}return e.guid=function(){for(var e="",t=1;t<=32;t++)e+=Math.floor(16*Math.random()).toString(16),8!=t&&12!=t&&16!=t&&20!=t||(e+="-");return e},e.numberTotPermil=function(e){return e.toLocaleString()},e.numberToThousand=function(e,t){if(void 0===t&&(t=2),e<1e3)return e.toString();var o=Math.floor(Math.log(e)/Math.log(1e3));return(e/Math.pow(1e3,o)).toFixed(t)+["","K","M","G"][o]},e.numberToTenThousand=function(e,t){if(void 0===t&&(t=2),e<1e4)return e.toString();var o=Math.floor(Math.log(e)/Math.log(1e4));return(e/Math.pow(1e4,o)).toFixed(t)+["","\u4e07","\u4ebf","\u4e07\u4ebf"][o]},e.format=function(e,t){var o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return t},e.stringToArray1=function(e){return""==e?[]:e.split(",")},e.stringToArray2=function(e){return""==e?[]:e.split("|")},e.stringToArray3=function(e){return""==e?[]:e.split(":")},e.stringToArray4=function(e){return""==e?[]:e.split(";")},e.sub=function(e,t,o){void 0===o&&(o=!1);var n=/[^\x00-\xff]/g;if(e.replace(n,"mm").length<=t)return e;for(var r=Math.floor(t/2);r<e.length;r++)if(e.substr(0,r).replace(n,"mm").length>=t)return o?e.substr(0,r)+"...":e.substr(0,r);return e},e.stringLen=function(e){for(var t=0,o=e.length,n=-1,r=0;r<o;r++)t+=(n=e.charCodeAt(r))>=0&&n<=128?1:2;return t},e}();o.StringUtil=n,cc._RF.pop()},{}],Task:[function(e,t,o){"use strict";cc._RF.push(t,"cb3499WYHpOIqN6m7+wmZeE","Task");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Task=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.run=function(){},t}(e("./BTreeNode").BTreeNode);o.Task=i,cc._RF.pop()},{"./BTreeNode":"BTreeNode"}],TestUtil:[function(e,t,o){"use strict";cc._RF.push(t,"498c2WLHLVFsr7+pdYquvHK","TestUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.email=function(e){return/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/.test(e)},e.mobile=function(e){return/^1[3-9]\d{9}$/.test(e)},e.url=function(e){return/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&=]*)?/.test(e)},e.date=function(e){return!/Invalid|NaN/.test(new Date(e).toString())},e.dateISO=function(e){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},e.number=function(e){return/^[\+-]?(\d+\.?\d*|\.\d+|\d\.\d+e\+\d+)$/.test(e)},e.digits=function(e){return/^\d+$/.test(e)},e.idCard=function(e){return/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(e)},e.amount=function(e){return/^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(e)},e.chinese=function(e){return/^[\u4e00-\u9fa5]+$/gi.test(e)},e.letter=function(e){return/^[a-zA-Z]*$/.test(e)},e.enOrNum=function(e){return/^[0-9a-zA-Z]*$/g.test(e)},e.contains=function(e,t){return e.indexOf(t)>=0},e.landline=function(e){return/^\d{3,4}-\d{7,8}(-\d{3,4})?$/.test(e)},e.empty=function(e){switch(typeof e){case"undefined":return!0;case"string":if(0==e.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return!0;break;case"boolean":if(!e)return!0;break;case"number":if(0===e||isNaN(e))return!0;break;case"object":if(null===e||0===e.length)return!0;for(var t in e)return!1;return!0}return!1},e.jsonString=function(e){if("string"==typeof e)try{var t=JSON.parse(e);return!("object"!=typeof t||!t)}catch(o){return!1}return!1},e.array=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},e.object=function(e){return"[object Object]"===Object.prototype.toString.call(e)},e}();o.default=n,cc._RF.pop()},{}],TimeUtil:[function(e,t,o){"use strict";cc._RF.push(t,"a3284a/P6ZM24JoE0yfnKIO","TimeUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.getTimestamp=function(){return(new Date).getTime()},e.getDate=function(){return(new Date).toLocaleDateString()},e.getTargetTimestamp=function(e,t,o){void 0===e&&(e=0),void 0===t&&(t=0),void 0===o&&(o=0);var n=new Date((new Date).toLocaleDateString()).getTime();return new Date(n+1e3*(3600*e+60*t+o)).getTime()},e.msToHMS=function(e,t,o){void 0===t&&(t=":"),void 0===o&&(o=!0);var n=Math.floor(e/36e5),r=Math.floor((e-36e5*n)/6e4),i=Math.floor((e-36e5*n-6e4*r)/1e3);return(0!==n||o?n.toString().padStart(2,"0")+":":"")+r.toString().padStart(2,"0")+t+i.toString().padStart(2,"0")},e}();o.default=n,cc._RF.pop()},{}],TimerManager:[function(e,t,o){"use strict";cc._RF.push(t,"c7dc7ryItRHtaNe5UAZypZT","TimerManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.TimerManager=void 0;var i=e("../utils/StringUtil"),a=e("./Timer"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.times={},t.initTime=(new Date).getTime(),t.serverTime=0,t}return r(t,e),t.prototype.update=function(e){for(var t in this.times){var o=this.times[t];o.timer.update(e)&&o.object[o.field]>0&&(o.object[o.field]--,0==o.object[o.field]?this.onTimerComplete(o):o.onSecond&&o.onSecond.call(o.object))}},t.prototype.onTimerComplete=function(e){e.onComplete&&e.onComplete.call(e.object),e.event&&this.node.dispatchEvent(e.event),delete this.times[e.id]},t.prototype.register=function(e,t,o,n){var r=new a.Timer;r.step=1;var s={};return s.id=i.StringUtil.guid(),s.timer=r,s.object=e,s.field=t,s.onSecond=o,s.onComplete=n,this.times[s.id]=s,s.id},t.prototype.unRegister=function(e){this.times[e]&&delete this.times[e]},t.prototype.setServerTime=function(e){return e&&(this.serverTime=e),this.serverTime},t.prototype.getServerTime=function(){return this.serverTime+this.getTime()},t.prototype.format=function(e,t){var o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return e},t.prototype.getTime=function(){return this.getLocalTime()-this.initTime},t.prototype.getLocalTime=function(){return Date.now()},t.prototype.save=function(){for(var e in this.times)this.times[e].startTime=this.getTime()},t.prototype.load=function(){for(var e in this.times){var t=Math.floor((this.getTime()-(this.times[e].startTime||this.getTime()))/1e3),o=this.times[e];o.object[o.field]=o.object[o.field]-t,o.object[o.field]<0&&(o.object[o.field]=0,this.onTimerComplete(o)),this.times[e].startTime=null}},t}(cc.Component);o.TimerManager=s,cc._RF.pop()},{"../utils/StringUtil":"StringUtil","./Timer":"Timer"}],Timer:[function(e,t,o){"use strict";cc._RF.push(t,"1de90D9hd5CJ7d3/DmhhtDN","Timer"),Object.defineProperty(o,"__esModule",{value:!0}),o.Timer=void 0;var n=function(){function e(e){void 0===e&&(e=0),this.callback=null,this._elapsedTime=0,this._step=-1,this.step=e}return Object.defineProperty(e.prototype,"elapsedTime",{get:function(){return this._elapsedTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},set:function(e){this._step=e,this._elapsedTime=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"progress",{get:function(){return this._elapsedTime/this._step},enumerable:!1,configurable:!0}),e.prototype.update=function(e){return!(this.step<=0)&&(this._elapsedTime+=e,this._elapsedTime>=this._step&&(this._elapsedTime-=this._step,this.callback&&this.callback.call(this),!0))},e.prototype.reset=function(){this._elapsedTime=0},e.prototype.stop=function(){this._elapsedTime=0,this.step=-1},e}();o.Timer=n,cc._RF.pop()},{}],ToastModel:[function(e,t,o){"use strict";cc._RF.push(t,"dba4bTjiBhN5bHr+/rCa8lQ","ToastModel");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ToasParams=o.ToastType=void 0;var a,s=e("./BaseViewModel");(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SUCCESS=1]="SUCCESS",e[e.FAIL=2]="FAIL"})(a=o.ToastType||(o.ToastType={})),o.ToasParams=function(e,t){void 0===t&&(t=a.DEFAULT),this.msg="",this.type=a.DEFAULT,this.msg=e,this.type=t};var c=cc._decorator,l=c.ccclass,u=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.item=null,t}return r(t,e),t.prototype.show=function(e){if(!this.node.getChildByName("ui_layout")){var t=new cc.Node("ui_layout");t.width=cc.view.getFrameSize().width,t.height=cc.view.getFrameSize().height/2,this.node.addChild(t);var o=t.addComponent(cc.Layout);return o.type=cc.Layout.Type.VERTICAL,o.spacingY=15,o.verticalDirection=cc.Layout.VerticalDirection.BOTTOM_TO_TOP,void this.show(e)}var n=this.node.getChildByName("ui_layout").getComponent(cc.Layout),r=cc.instantiate(this.item),i=r.getChildByName("content").getComponent(cc.Label);i.string=e.msg,i._forceUpdateRenderData(!0);var s=cc.Color.WHITE;e.type==a.SUCCESS&&(s=cc.Color.GREEN),e.type==a.FAIL&&(s=cc.Color.RED),i.node.color=s,r.width=i.node.width+60,n.node.addChild(r),r.active=!0,r.scaleY=0,r&&cc.tween(r).to(.2,{scaleY:1},{easing:"cubicInOut"}).call(function(){}).start(),setTimeout(function(){r&&cc.tween(r).to(.5,{opacity:0},{easing:"smooth"}).call(function(){r.destroy()}).start()},2e3)},i([u({type:cc.Node,tooltip:"item"})],t.prototype,"item",void 0),i([l],t)}(s.default);o.default=p,cc._RF.pop()},{"./BaseViewModel":"BaseViewModel"}],TweenUtil:[function(e,t,o){"use strict";cc._RF.push(t,"931431j7JRAnptNQicy6R2g","TweenUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.flip=function(e,t,o,n){return new Promise(function(r){var i=cc.tween,a=t/2,s=e.scale,c=s>0?20:-20;i(e).parallel(i().to(a,{scaleX:0},{easing:"quadIn"}),i().to(a,{skewY:-c},{easing:"quadOut"})).call(function(){o&&o()}).parallel(i().to(a,{scaleX:-s},{easing:"quadOut"}),i().to(a,{skewY:0},{easing:"quadIn"})).call(function(){n&&n(),r()}).start()})},e}();o.default=n,cc._RF.pop()},{}],UIUtil:[function(e,t,o){"use strict";cc._RF.push(t,"a465dFaSQ9AZKK47fDBloeT","UIUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.convetOtherNodeSpaceAR=function(e,t,o){if(void 0===o&&(o=new cc.Vec2(0,0)),!e||!t)return null;var n=this.localConvertWorldPointAR(e,o);return this.worldConvertLocalPointAR(t,n)},e.localConvertWorldPointAR=function(e,t){return e?e.convertToWorldSpaceAR(t):null},e.worldConvertLocalPointAR=function(e,t){return e?e.convertToNodeSpaceAR(t):null},e}();o.default=n,cc._RF.pop()},{}],Util:[function(e,t,o){"use strict";cc._RF.push(t,"f8c3aod1O1O3r0m2Bz8sYKS","Util"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.clone=function(e){if(null===e||"object"!=typeof e)return e;var t={};for(var o in e.constructor===Array&&(t=[]),e)e.hasOwnProperty(o)&&(t[o]=this.clone(e[o]));return t},e}();o.default=n,cc._RF.pop()},{}],WaitingModel:[function(e,t,o){"use strict";cc._RF.push(t,"10bcd9q9SdOpqjAf6Exqz1s","WaitingModel");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./PopupModel"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),i([c],t)}(a.default));o.default=l,cc._RF.pop()},{"./PopupModel":"PopupModel"}],WxManager:[function(e,t,o){"use strict";cc._RF.push(t,"bbeabn3oCVKk71bvL2dKyQl","WxManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.VideoStatus=void 0;var n,r=e("../../global/Global"),i=e("../event/EventMessage"),a=e("../event/MessageManager");(function(e){e[e.ERROR=100]="ERROR",e[e.CLOSE=101]="CLOSE",e[e.success=102]="success"})(n=o.VideoStatus||(o.VideoStatus={}));var s=function(){function e(){this._wxAdConfig=null,this.bannerAd=null,this.interstitialAd=null,this.customMatrixAd=null,this.customRowGridAd=null,this.customGridAd=null,this.videoAd=null,this.wxclub=null}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.init=function(){this._wxAdConfig=r.default.getInstance().getGameConfig().wxAdConfig,this._wxAdConfig.isAd&&cc.sys.platform==cc.sys.WECHAT_GAME&&this.adInit(),cc.sys.platform==cc.sys.WECHAT_GAME&&(this.initMPShare(),this.updateManager())},e.prototype.vibrateShort=function(e){void 0===e&&(e="medium"),cc.sys.platform==cc.sys.WECHAT_GAME&&wx.vibrateShort({type:e})},e.prototype.wxLogin=function(){var e=this,t=this;return new Promise(function(o,n){cc.sys.platform==cc.sys.WECHAT_GAME?wx.login({success:function(e){o(t.getUserInfo(e.code))},fail:function(e){n(e)}.bind(e)}):n()})},e.prototype.getUserInfo=function(e){var t=this;return new Promise(function(o,n){wx.getUserProfile({lang:"zh_CN",desc:"\u767b\u9646\u9700\u8981\u83b7\u53d6\u60a8\u7684\u5934\u50cf\u4ee5\u53ca\u6635\u79f0",success:function(t){t.code=e,o(t)},fail:function(e){n(e)}.bind(t)})})},e.prototype.updateManager=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var e=wx.getUpdateManager();e.onCheckForUpdate(function(){}),e.onUpdateReady(function(){wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u5373\u5c06\u91cd\u542f\u5e94\u7528!",showCancel:!1,success:function(t){t.confirm&&e.applyUpdate()}})}),e.onUpdateFailed(function(){wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u4e0b\u8f7d\u5931\u8d25",showCancel:!1})})}},e.prototype.setClipboardData=function(e){cc.sys.platform==cc.sys.WECHAT_GAME&&wx.setClipboardData({data:e,success:function(){wx.showToast({title:"\u590d\u5236\u6210\u529f\uff01",icon:"success"})}})},e.prototype.setWxCloudRankData=function(e){cc.sys.platform==cc.sys.WECHAT_GAME&&wx.setUserCloudStorage({KVDataList:[{key:"level",value:String(e)}]})},e.prototype.initMPShare=function(){wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"],complete:function(){}}),wx.onShareAppMessage(function(){return{title:r.default.getInstance().getGameConfig().wxConfig.shareTitle,imageUrl:r.default.getInstance().getGameConfig().wxConfig.shareImg}})},e.prototype.share=function(e,t,o){cc.sys.platform==cc.sys.WECHAT_GAME&&wx.shareAppMessage({title:e,imageUrl:o,query:t})},e.prototype.showLoading=function(){wx.showLoading({title:"\u52a0\u8f7d\u4e2d",mask:!0})},e.prototype.hideLoading=function(){wx.hideLoading()},e.prototype.showToast=function(e){wx.showToast({title:e})},e.prototype.showModal=function(e,t,o,n){void 0===t&&(t=!0),wx.showModal({content:e,showCancel:t,success:o,fail:n})},e.prototype.createGameClubButton=function(e,t){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.wxclub?e?this.wxclub.show():this.wxclub.hide():(this.wxclub=wx.createGameClubButton({icon:"green",style:{left:t.left,top:t.top,width:t.width,height:t.height}}),this.createGameClubButton(e)))},e.prototype.adInit=function(){this.createBannerAd(),this.createInterstitialAd(),this.createCustomMatrixAd(),this.createCustomRowGridAd(),this.createCustomGridAd(),this.createCustomGridAd(),this.createVideoAd()},e.prototype.createVideoAd=function(){(this._wxAdConfig.rewardedVideoId||""!=this._wxAdConfig.rewardedVideoId)&&(this.videoAd=wx.createRewardedVideoAd({adUnitId:this._wxAdConfig.rewardedVideoId}),this.videoAd.onError(function(e){console.log("videoAd err==>",e),a.default.getInstance().dispatchEvent(i.EventMessage.GAME_AD_VIDEO_STATUS,n.ERROR)}),this.videoAd.onClose(function(e){var t=e.isEnded?n.success:n.CLOSE;a.default.getInstance().dispatchEvent(i.EventMessage.GAME_AD_VIDEO_STATUS,t)}))},e.prototype.showVideoAd=function(){var e=this;this.videoAd&&(e.showLoading(),this.videoAd.show().then(function(){e.hideLoading()}).catch(function(){e.videoAd.load().then(function(){e.hideLoading(),e.videoAd.show()}).catch(function(){e.hideLoading(),a.default.getInstance().dispatchEvent(i.EventMessage.GAME_AD_VIDEO_STATUS,n.ERROR)})}))},e.prototype.createCustomGridAd=function(){if(this._wxAdConfig.customGridId||""!=this._wxAdConfig.customGridId){var e=wx.getSystemInfoSync();this.customGridAd=wx.createCustomAd({adUnitId:this._wxAdConfig.customGridId,adIntervals:300,style:{left:e.screenWidth-56,top:e.screenHeight-200}}),this.customGridAd.onError(function(e){console.log("customGridAd err==>",e)})}},e.prototype.showCustomGridAd=function(e){this.customGridAd&&(e?this.customGridAd.show():this.customGridAd.hide())},e.prototype.createCustomRowGridAd=function(){if(this._wxAdConfig.customRowGridId||""!=this._wxAdConfig.customRowGridId){var e=wx.getSystemInfoSync(),t=e.screenWidth*(1-.8)/2;this.customRowGridAd=wx.createCustomAd({adUnitId:this._wxAdConfig.customRowGridId,adIntervals:300,style:{left:t,top:e.screenHeight-100}}),this.customRowGridAd.onError(function(e){console.log("customRowGridId err==>",e)})}},e.prototype.showCustomRowGridAd=function(e){this.customRowGridAd&&(e?this.customRowGridAd.show().then(function(){}).catch(function(e){console.log("gridShow1 err==>",e),"no advertisement"==e.errMsg&&a.default.getInstance().dispatchEvent(i.EventMessage.GAME_NO_ADVERTISEMENT)}):this.customRowGridAd.hide())},e.prototype.createCustomMatrixAd=function(){(this._wxAdConfig.customMatrixId||""!=this._wxAdConfig.customMatrixId)&&(this.customMatrixAd=wx.createCustomAd({adUnitId:this._wxAdConfig.customMatrixId,adIntervals:300,style:{left:0,top:120}}),this.customMatrixAd.onError(function(e){console.log("customMatrixId err==>",e)}))},e.prototype.showCustomMatrixAd=function(e){this.customMatrixAd&&(e?this.customMatrixAd.show():this.customMatrixAd.hide())},e.prototype.createBannerAd=function(){if(this._wxAdConfig.bannerId||""!=this._wxAdConfig.bannerId){var e=wx.getSystemInfoSync();this.bannerAd=wx.createBannerAd({adUnitId:this._wxAdConfig.bannerId,adIntervals:60,style:{left:(e.screenWidth-300)/2,top:e.screenHeight-110,width:300}}),this.bannerAd.onError(function(e){console.log("bannerAd err==>",e)})}},e.prototype.showBanner=function(e){this.bannerAd&&(e?this.bannerAd.show():this.bannerAd.hide())},e.prototype.createInterstitialAd=function(){(this._wxAdConfig.interstitialId||""!=this._wxAdConfig.interstitialId)&&(this.interstitialAd=wx.createInterstitialAd({adUnitId:this._wxAdConfig.interstitialId}))},e.prototype.showInterstitial=function(){this.interstitialAd&&this.interstitialAd.show()},e}();o.default=s,cc._RF.pop()},{"../../global/Global":"Global","../event/EventMessage":"EventMessage","../event/MessageManager":"MessageManager"}],base:[function(e,t,o){"use strict";cc._RF.push(t,"a4b817od1lKyZytVmgwY/4r","base"),Object.defineProperty(o,"__esModule",{value:!0}),o.base=void 0;var n=e("./core/manager/NativeMger"),r=e("./core/manager/PoolNodeMger"),i=e("./core/manager/SoundMger"),a=e("./core/utils/ArrayUtil"),s=e("./core/utils/Base64Util"),c=e("./core/utils/BrowserUtil"),l=e("./core/utils/ColorUtil"),u=e("./core/utils/DeviceUtil"),p=e("./core/utils/GeometryUtil"),d=e("./core/utils/MathUtil"),f=e("./core/utils/NodeUtil"),h=e("./core/utils/ObjectUtil"),g=e("./core/utils/PromiseUtil"),y=e("./core/utils/RegexUtil"),_=e("./core/utils/RenderUtil"),m=e("./core/utils/StorageUtil"),v=e("./core/utils/TestUtil"),b=e("./core/utils/TimeUtil"),w=e("./core/utils/TweenUtil"),M=e("./core/utils/UIUtil"),C=e("./core/utils/Util"),P=e("./core/manager/Handler"),O=e("./core/utils/StringUtil"),A=e("./component/label/LabelTime"),R=e("./component/label/LabelNumber"),S=e("./component/label/LabelChange"),L=e("./core/collection/Collection"),T=e("./core/behaviorTree/BehaviorTree"),U=e("./core/behaviorTree/BTreeNode"),E=e("./core/behaviorTree/BranchNode"),I=e("./core/behaviorTree/Decorator"),j=e("./core/behaviorTree/Priority"),N=e("./core/behaviorTree/Selector"),F=e("./core/behaviorTree/Task"),x=e("./core/language/LanguageManager"),D=e("./core/language/LanguageLabel"),B=e("./core/language/LanguageSprite"),G=e("./core/log/Loger"),k=e("./global/Global"),V=e("./core/loader/ResLoader"),W=e("./core/gui/GUI"),H=e("./core/gui/Defines"),z=e("./core/gui/DelegateComponent"),q=e("./core/event/EventMessage"),Z=e("./core/event/MessageManager"),K=e("./core/timer/Timer"),Y=e("./core/timer/TimerManager"),J=e("./core/common/AnimationExtend"),X=e("./component/model/ToastModel"),$=e("./component/model/StartSceneViewModel"),Q=e("./component/model/LoadingModel"),ee=e("./component/model/WaitingModel"),te=e("./component/model/PopupModel"),oe=e("./component/model/BaseViewModel"),ne=e("./component/model/AlertModel"),re=e("./core/gui/GUIView"),ie=e("./component/model/MainSceneViewModel"),ae=e("./component/shader/LabelShader"),se=e("./component/model/MainViewModel"),ce=e("./core/wx/WxManager"),le=e("./component/common/GameID"),ue=e("./component/particle/MultiPSRandomRefreshTool"),pe=e("./component/particle/ParticleSystemSpriteFramesRefresh"),de=function(){};o.base=de,de.LogerType=G.LogerType,de.Loger=G.Loger,de.ResLoader=V.default,de.Handler=P.default,de.Global=k.default,de.ToastType=X.ToastType,de.ArrayUtil=a.default,de.UIUtil=M.default,de.Base64Util=s.default,de.BrowserUtil=c.default,de.ColorUtil=l.default,de.DeviceUtil=u.default,de.GeometryUtil=p.default,de.TestUtil=v.default,de.MathUtil=d.default,de.NodeUtil=f.default,de.ObjectUtil=h.default,de.PromiseUtil=g.default,de.RegexUtil=y.default,de.RenderUtil=_.default,de.StorageUtil=m.default,de.TimeUtil=b.default,de.TweenUtil=w.default,de.Util=C.default,de.PoolNodeMger=r.default,de.SoundMger=i.default,de.NativeMger=n.default,de.Root=$.default,de.LoadingModel=Q.default,de.ToastModel=X.default,de.WaitingModel=ee.default,de.PopupModel=te.default,de.BaseViewModel=oe.default,de.AlertModel=ne.default,de.GUI=W.GUI,de.GUIView=re.GUIView,de.EventMessage=q.EventMessage,de.MessageManager=Z.default,de.UICallbacks=H.UICallbacks,de.PopViewParams=H.PopViewParams,de.ViewParams=H.ViewParams,de.DelegateComponent=z.DelegateComponent,de.LayerType=W.LayerType,de.UIConfig=W.UIConfig,de.AlertParams=ne.AlertParams,de.Timer=K.Timer,de.TimerManager=Y.TimerManager,de.StringUtil=O.StringUtil,de.LabelTime=A.default,de.LabelNumber=R.default,de.LabelChange=S.LabelChange,de.AnimationExtend=J.default,de.AniParam=J.AniParam,de.ANIMATION_TYPE=J.ANIMATION_TYPE,de.BehaviorTree=T.BehaviorTree,de.BTreeNode=U.BTreeNode,de.BranchNode=E.BranchNode,de.Decorator=I.Decorator,de.Priority=j.Priority,de.Selector=N.Selector,de.Task=F.Task,de.Collection=L.Collection,de.StartSceneViewModel=$.default,de.LanguageType=x.LanguageType,de.LanguageLabel=D.LanguageLabel,de.LanguageSprite=B.LanguageSprite,de.LanguageManager=x.LanguageManager,de.MainSceneViewModel=ie.default,de.ToasParams=X.ToasParams,de.LabelShader=ae.default,de.MainViewModel=se.default,de.WxManager=ce.default,de.VideoStatus=ce.VideoStatus,de.GameID=le.default,de.GAMELOCALNAME=q.GAMELOCALNAME,de.MultiPSRandomRefreshTool=ue.default,de.ParticleSystemSpriteFramesRefresh=pe.default,window.base=de,cc._RF.pop()},{"./component/common/GameID":"GameID","./component/label/LabelChange":"LabelChange","./component/label/LabelNumber":"LabelNumber","./component/label/LabelTime":"LabelTime","./component/model/AlertModel":"AlertModel","./component/model/BaseViewModel":"BaseViewModel","./component/model/LoadingModel":"LoadingModel","./component/model/MainSceneViewModel":"MainSceneViewModel","./component/model/MainViewModel":"MainViewModel","./component/model/PopupModel":"PopupModel","./component/model/StartSceneViewModel":"StartSceneViewModel","./component/model/ToastModel":"ToastModel","./component/model/WaitingModel":"WaitingModel","./component/particle/MultiPSRandomRefreshTool":"MultiPSRandomRefreshTool","./component/particle/ParticleSystemSpriteFramesRefresh":"ParticleSystemSpriteFramesRefresh","./component/shader/LabelShader":"LabelShader","./core/behaviorTree/BTreeNode":"BTreeNode","./core/behaviorTree/BehaviorTree":"BehaviorTree","./core/behaviorTree/BranchNode":"BranchNode","./core/behaviorTree/Decorator":"Decorator","./core/behaviorTree/Priority":"Priority","./core/behaviorTree/Selector":"Selector","./core/behaviorTree/Task":"Task","./core/collection/Collection":"Collection","./core/common/AnimationExtend":"AnimationExtend","./core/event/EventMessage":"EventMessage","./core/event/MessageManager":"MessageManager","./core/gui/Defines":"Defines","./core/gui/DelegateComponent":"DelegateComponent","./core/gui/GUI":"GUI","./core/gui/GUIView":"GUIView","./core/language/LanguageLabel":"LanguageLabel","./core/language/LanguageManager":"LanguageManager","./core/language/LanguageSprite":"LanguageSprite","./core/loader/ResLoader":"ResLoader","./core/log/Loger":"Loger","./core/manager/Handler":"Handler","./core/manager/NativeMger":"NativeMger","./core/manager/PoolNodeMger":"PoolNodeMger","./core/manager/SoundMger":"SoundMger","./core/timer/Timer":"Timer","./core/timer/TimerManager":"TimerManager","./core/utils/ArrayUtil":"ArrayUtil","./core/utils/Base64Util":"Base64Util","./core/utils/BrowserUtil":"BrowserUtil","./core/utils/ColorUtil":"ColorUtil","./core/utils/DeviceUtil":"DeviceUtil","./core/utils/GeometryUtil":"GeometryUtil","./core/utils/MathUtil":"MathUtil","./core/utils/NodeUtil":"NodeUtil","./core/utils/ObjectUtil":"ObjectUtil","./core/utils/PromiseUtil":"PromiseUtil","./core/utils/RegexUtil":"RegexUtil","./core/utils/RenderUtil":"RenderUtil","./core/utils/StorageUtil":"StorageUtil","./core/utils/StringUtil":"StringUtil","./core/utils/TestUtil":"TestUtil","./core/utils/TimeUtil":"TimeUtil","./core/utils/TweenUtil":"TweenUtil","./core/utils/UIUtil":"UIUtil","./core/utils/Util":"Util","./core/wx/WxManager":"WxManager","./global/Global":"Global"}]},{},["base","GameID","LabelChange","LabelNumber","LabelTime","AlertModel","BaseViewModel","LoadingModel","MainSceneViewModel","MainViewModel","PopupModel","StartSceneViewModel","ToastModel","WaitingModel","MultiPSRandomRefreshTool","ParticleSystemSpriteFramesRefresh","LabelShader","BTreeNode","BehaviorTree","BranchNode","Decorator","IControl","Priority","Selector","Sequence","Task","Collection","AnimationExtend","EventMessage","MessageManager","Defines","DelegateComponent","GUI","GUIView","LayerDialog","LayerPopUp","LayerToast","LayerUI","LanguageLabel","LanguageManager","LanguageSprite","ResLoader","Loger","Handler","NativeMger","PoolNodeMger","SoundMger","Timer","TimerManager","ArrayUtil","Base64Util","BrowserUtil","ColorUtil","DeviceUtil","GeometryUtil","MathUtil","NodeUtil","ObjectUtil","PromiseUtil","RegexUtil","RenderUtil","StorageUtil","StringUtil","TestUtil","TimeUtil","TweenUtil","UIUtil","Util","WxManager","Global"]);